<!DOCTYPE html>
<html lang="en">
<head>
    <title>代码框</title>
    <meta charset="utf-8">

    <link rel="stylesheet" href="../../../../static/js/platform/component/codemirror-5.42.2/lib/codemirror.css">
    <link type="text/css" rel="stylesheet" href="../../../../static/js/platform/component/codemirror-5.42.2/theme/eclipse.css" />
    <link rel="stylesheet" href="../../../../static/js/platform/component/codemirror-5.42.2/addon/hint/show-hint.css">
    <script src="../../../../static/js/platform/component/codemirror-5.42.2/lib/codemirror.js"></script>
    <script src="../../../../static/js/platform/component/codemirror-5.42.2/addon/hint/show-hint.js"></script>
    <script src="../../../../static/js/platform/component/codemirror-5.42.2/addon/hint/xml-hint.js"></script>
    <script src="../../../../static/js/platform/component/codemirror-5.42.2/addon/hint/html-hint.js"></script>
    <script src="../../../../static/js/platform/component/codemirror-5.42.2/mode/xml/xml.js"></script>
    <script src="../../../../static/js/platform/component/codemirror-5.42.2/mode/javascript/javascript.js"></script>
    <script src="../../../../static/js/platform/component/codemirror-5.42.2/mode/css/css.js"></script>
    <script src="../../../../static/js/platform/component/codemirror-5.42.2/mode/htmlmixed/htmlmixed.js"></script>
    <script src="../../../../static/js/platform/component/codemirror-5.42.2/lib/codeformatting.js"></script>
    <script src="../../../../static/js/platform/component/codemirror-5.42.2/addon/comment/comment.js"></script>
    <!--括号匹配-->
    <script src="../../../../static/js/platform/component/codemirror-5.42.2/addon/edit/matchbrackets.js"></script>
</head>

<body>
<!--<textarea id="eventEditTextarea" style="width: 100%; height: 98%;"></textarea>

    <script>
        window.onload = function() {
            editor = CodeMirror(document.getElementById("eventEditTextarea"), {
                // foldGutter: true,
                // indentUnit : 2,  // 缩进单位，默认2
                // smartIndent : true,  // 是否智能缩进
                // //显示行号
                // styleActiveLine: true,
                // lineNumbers:true,
                // lineWrapping:true,
                // //设置主题
                // theme:"eclipse",
                mode: "text/html",
                extraKeys: {
                    "Ctrl-Space": "autocomplete",
                    Tab: function(cm) {
                        var spaces = Array(cm.getOption("indentUnit") + 1).join(" ");
                        cm.replaceSelection(spaces);
                    },
                    "Ctrl-/": "toggleComment",
                    "Ctrl-Z":function (editor) {
                        editor.undo();
                    },//undo
                    "Ctrl-Y":function (editor) {
                        editor.redo();
                    },//Redo
                    "F7": function autoFormat(cm) {
                        var totalLines = cm.lineCount();
                        cm.autoFormatRange({line:0, ch:0}, {line:totalLines});
                    }//代码格式化
                }
            });

            editor.setSize('800px', '950px');     //设置代码框的长宽
            editor.setValue("");    //先代码框的值清空
        };

        function getEditorValue(){
            return editor.getValue();
        }

        function setEditorValue(value){
            editor.setValue(value);
        }
    </script>-->

<textarea id="eventEditTextarea" style="width: 100%; height: 98%;"></textarea>

<script>
    var editor = CodeMirror.fromTextArea(document.getElementById("eventEditTextarea"), {
        mode: "text/html",
        theme:"eclipse",
        styleActiveLine: true,
        indentUnit : 2,  // 缩进单位，默认2
        smartIndent : true,  // 是否智能缩进
        autofocus:true,
        extraKeys:{
            Tab: function(cm) {
                var spaces = Array(cm.getOption("indentUnit") + 1).join(" ");
                cm.replaceSelection(spaces);
            },
            "Ctrl-/": "toggleComment",
            "Ctrl-Z":function (editor) {
                editor.undo();
            },//undo
            "Ctrl-Y":function (editor) {
                editor.redo();
            },//Redo
            "F7": function autoFormat(cm) {
                var totalLines = cm.lineCount();
                cm.autoFormatRange({line:0, ch:0}, {line:totalLines});
            }//代码格式化
        },
        lineNumbers:true,
        lineWrapping:true,
        matchBrackets:true
    });
    CodeMirror.commands["selectAll"](editor);
    editor.setSize('100%', '100%');     //设置代码框的长宽
    editor.setValue("");    //先代码框的值清空
    function getEditorValue(){
        return editor.getValue();
    }

    function setEditorValue(value){
        editor.setValue(value);
    }

</script>

</body>
</html>