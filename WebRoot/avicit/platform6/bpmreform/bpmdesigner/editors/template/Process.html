<%@page pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
    <div id="process" style="display: none">
        <form class="form-horizontal" id="jbxx">
            <div class="avic-flow-default-theme">
                <div class="twoTabNav" style="width: 100%">
                    <!-- 标签主体Start -->
                    <!-- bootstrap风格 -->
                    <ul class="nav-tabs">
                        <li class="active">
                            <a href="javascript:void(0)">基本信息</a>
                        </li>
                        <li>
                            <a href="javascript:void(0)" <c:if test="${isUflow == '2'}">style="display:none"</c:if>>变量</a>
                        </li>
                        <li>
                            <a href="javascript:void(0)">权限</a>
                        </li>
                        <li <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                            <a href="javascript:void(0)">事件</a>
                        </li>
                        <li <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                            <a href="javascript:void(0)">文档</a>
                        </li>
                        <li <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                            <a href="javascript:void(0)">启动条件</a>
                        </li>
                    </ul>
                    <ul class="tab-cont">
                        <li class="active">
                            <div class="demoCont">
                                <div class="base_info">
                                    <div class="row base_info_bar">
                                        <div class="label form-process-separate-label"><span>基本</span></div>
                                    </div>
                                    <div class="form-group" style='padding-top: 5px;'>
                                        <label for="" class="col-xs-3  col-xs-offset-1 control-label form-process-properties-label">流程名称</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                            <input type="text" class="form-control" id="liu_cheng_ming_cheng" placeholder="流程名称">
                                        </div>
                                    </div>
                                    <div class="form-group" style='padding-top: 5px;'>
                                        <label for="" class="col-xs-3  col-xs-offset-1 control-label form-process-properties-label">逻辑标识</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                            <input type="text" class="form-control" id="liu_cheng_biao_shi" placeholder="逻辑标识" readonly>
                                        </div>
                                    </div>
                                <!--     <div class="form-group">
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">模型分类</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                            <select class="form-control" id="mo_xing_fen_lei">
                                                <option>模型分类1</option>
                                                <option>模型分类2</option>
                                                <option>模型分类3</option>
                                                <option>模型分类4</option>
                                                <option>模型分类5</option>
                                            </select>
                                        </div>
                                    </div> -->
                                    <div class="form-group ">
                         <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label" style="text-align: left;">描&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;述</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                            <textarea class="form-control" rows="3" id="liu_cheng_miao_shu" name="liu_cheng_miao_shu"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="base_instance">
                                    <div class="row base_info_bar">
                                        <div class="label form-process-separate-label"><span>实例</span></div>
                                    </div>
                                    <div class="form-group" style='padding-top: 5px;'>
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">实例标题</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                            <input id="shi_li_biao_ti" name="shi_li_biao_ti" type="text" value="" class="form-control col-xs-12" readonly>
                                            <div>
                                                <label style="padding-bottom: 0px;margin-bottom: 0px;height: 20px;">
                                                    <input id="shi_li_biao_ti_geng_xin" name="shi_li_biao_ti_geng_xin" type="checkbox" value="no" style="height: 17px;margin-bottom: 0px;padding-top: 5px;padding-bottom: 0px;">
                                                </label>
                                                <label style="padding-top: 0px;margin-bottom: 10px; text-align: right;">自动更新</label>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">待办标题</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                            <input id="dai_ban_biao_ti" name="dai_ban_biao_ti" type="hidden" name="" class="form-control col-xs-12">
                                            <input type="text" id="formName_biaoTi" name="formName_biaoTi" class="form-control" readonly>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">流程删除</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                            <input id="liu_cheng_shan_chu" name="liu_cheng_shan_chu" type="text" value="" class="form-control col-xs-12">
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">移动审批</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                               <label class="checkbox-parent-label">
                                                <input id="process_yi_dong_shen_pi" name="process_yi_dong_shen_pi" type="checkbox" value="no">
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="base_form">
                                    <div class="row base_info_bar">
                                        <div class="label form-process-separate-label"><span>表单</span></div>
                                    </div>
                                    <div class="form-group" style='padding-top: 5px;'>
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">关联表单</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                       	  <input type="hidden" id="guan_lian_biao_dan" name="guan_lian_biao_dan">
										  <input type="text" id="formName" name="formName" class="form-control" readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="base_form" <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                                    <div class="row base_info_bar">
                                        <div class="label form-process-separate-label"><span>意见配置</span></div>
                                    </div>
                                    <div class="form-group" >
                                            <div class="col-xs-3   col-xs-offset-8 " >
                                                <button type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix" name="btn-process-add-opinion" >添加</button>
                                            </div>
                                        </div>
                                        <div >
                                            <table class="table table-hover table-bordered table-fix" name="table-process-add-opinion" id="table-process-add-opinion">
                                                <thead>
                                                	 <tr>
                                                        <td>名称</td>
                                                        <td>操作</td>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                   <!--  <tr>
                                                        <td>1</td>
                                                      	<td>
                                                         <a href="javascript:void(0)" name=""><i class="iconfont icon-delete"></i></a>
                                                         <a href="javascript:void(0)" name="" style="margin-left:5px"><i class="iconfont icon-edit"></i></a>
                                                        </td>
                                                    </tr> -->
                                                </tbody>
                                            </table>
                                        </div>
                                    <div class="form-group ">
                                        <label for="" class="col-xs-10 control-label form-process-properties-label">在表单页显示文字跟踪(优先于节点配置)</label>
                                        <div class="col-xs-2 form-process-properties-value">
                                            <label class="checkbox-parent-label">
                                                <input id="wen_zi_gen_zong" name="wen_zi_gen_zong" type="checkbox" value="yes">
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="base_form">
                                    <div class="row base_info_bar">
                                        <div class="label form-process-separate-label"><span>KPI设置</span></div>
                                    </div>
                                    <div class="form-group" style='padding-top: 5px;'>
                                        <label class="col-xs-4 control-label form-process-properties-label">合理完成时间</label>
                                         <div class="col-xs-8 form-process-properties-value">
                                       	  <input type="text" id="kpi_process_reasonable_day" class="num_only" style="width:30px;" value="0"> 日 <input type="text" id="kpi_process_reasonable_hour" class="num_only" style="width:30px;" value="0"> 时
                                       	  <input type="text" id="kpi_process_reasonable_minute" class="num_only" style="width:30px;" value="0"> 分
                                        </div>
                                    </div>
                                    <div class="form-group" style='padding-top: 5px;'>
                                        <label class="col-xs-4 control-label form-process-properties-label">警告完成时间</label>
                                         <div class="col-xs-8 form-process-properties-value">
                                       	  <input type="text" id="kpi_process_warning_day" class="num_only" style="width:30px;" value="0"> 日 <input type="text" id="kpi_process_warning_hour" class="num_only" style="width:30px;" value="0"> 时
                                       	  <input type="text" id="kpi_process_warning_minute" class="num_only" style="width:30px;" value="0"> 分
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="" class="col-xs-4 control-label form-process-properties-label">是否参与KPI</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                               <label class="checkbox-parent-label">
                                               <input id="is_participate_KPI" name="is_participate_KPI" type="checkbox" value="yes" checked>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="base_form">
                                    <div class="row base_info_bar">
                                        <div class="label form-process-separate-label"><span>模板所有者</span></div>
                                    </div>
                                    <div class="form-group" style='padding-top: 5px;'>
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">部门</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                            <input type="hidden" id="flow_owner_deptId" name="flow_owner_deptId">
                                            <input type="text" id="flow_owner_deptName" name="flow_owner_deptName" class="form-control" readonly>
                                        </div>
                                    </div>
                                    <div class="form-group" style='padding-top: 5px;'>
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">用户</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                            <input type="hidden" id="flow_owner_userId" name="flow_owner_userId">
                                            <input type="text" id="flow_owner_userName" name="flow_owner_userName" class="form-control" readonly>
                                        </div>
                                    </div>
                                </div>
                                <div class="base_form">
                                    <div class="row base_info_bar">
                                        <div class="label form-process-separate-label"><span>其他设置</span></div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="" class="col-xs-6 control-label form-process-properties-label">结束后自动激活父流程</label>
                                        <div class="col-xs-6 form-process-properties-value">
                                            <label class="checkbox-parent-label">
                                                <input id="event_auto_perform" name="event_auto_perform" type="checkbox">
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                            <div class="demoCont">
                                <!-- 流程变量html 开始 -->
                                <div class="form-group ">
                                    <label for="" class="col-xs-3  control-label form-process-properties-label"><i class="required">*</i>变量名称</label>
                                    <div class="col-xs-9 form-process-properties-value">
                                        <input id="avic-input-variable-name" name="avic-input-variable-name" type="text" name="" class="form-control col-xs-12">
                                    </div>
                                </div>
                                <div class="form-group ">
                                    <label for="" class="col-xs-3   control-label form-process-properties-label" style="text-align:left;"><i class="required">*</i>变&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;量</label>
                                    <div class="col-xs-9 form-process-properties-value">
                                        <input id="avic-input-variable" name="avic-input-variable" type="text" name="" class="form-control col-xs-12">
                                    </div>
                                </div>
                                <div class="form-group ">
                                    <label for="" class="col-xs-3   control-label form-process-properties-label" style="text-align: left;letter-spacing: 6px;"><i class="no_required1">&nbsp;</i>变量值</label>
                                    <div class="col-xs-9 form-process-properties-value">
                                        <input id="avic-input-variable-value" name="avic-input-variable-value" type="text" name="" class="form-control col-xs-12">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="" class="col-xs-3   control-label form-process-properties-label"><i class="no_required">&nbsp;</i>变量类型</label>
                                    <div class="col-xs-9 form-process-properties-value">
                                        <select class="form-control" id="avic-input-variable-type" name="avic-input-variable-type">
                                            <option value="string" selected="">string</option>
                                            <option value="long">long</option>
                                            <option value="double">double</option>
                                            <option value="date">date</option>
                                            <option value="boolean">boolean</option>
                                            <option value="char">char</option>
                                            <option value="byte">byte</option>
                                            <option value="short">short</option>
                                            <option value="integer">integer</option>
                                            <option value="float">float</option>
                                            <option value="byte[]">byte[]</option>
                                            <option value="char[]">char[]</option>
                                            <option value="serializable">serializable</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group ">
                                    <label for="" class="col-xs-3   control-label form-process-properties-label" style="text-align:left;"><i class="no_required">&nbsp;</i>描&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;述</label>
                                    <div class="col-xs-9 form-process-properties-value">
                                        <textarea class="form-control" rows="3" id="avic-input-variable-desc" name="avic-input-variable-desc"></textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-xs-3  col-xs-offset-8 button-fix" style="margin-left: 76%;">
                                        <button type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix" name="btn-add-flow-variable">添加</button>
                                        <button type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix hidden" name="btn-save-flow-variable">保存</button>
                                    </div>
                                </div>
                                <div class="" >
                                    <table class="table table-hover table-bordered table-fix" id="table-flow-variable" name="table-flow-variable">
                                        <thead>
                                            <tr>
                                                <td style="width: 0px;display:none;"></td>
                                                <td>变量名称</td>
                                                <td>表达式</td>
                                                <td>操作</td>
                                            </tr>
                                        </thead>
                                        <tbody>

                                        </tbody>
                                    </table>
                                </div>
                                <!-- 流程变量html 结束 -->
                            </div>
                        </li>
                        <li>
                            <!--    全局权限设置 -->
                            <div class="demoCont">
                                <!--   权限开始 -->

                                <div class="row base_info_bar">
                                    <div class="label form-process-separate-label"><span>启动权限</span></div>
                                </div>
                                <ul class="global-start-auth-tab">
                                    <li class="active">
                                        <label>
                                            <input type="radio" name="input-radio-start-auth" checked value="expr" />用户
                                        </label>
                                    </li>
                                    <li>
                                        <label>
                                            <input type="radio" name="input-radio-start-auth" value="class" />部门
                                        </label>
                                    </li>
                                    <li>
                                        <label>
                                            <input type="radio" name="input-radio-start-auth" value="class" />角色
                                        </label>
                                    </li>
                                    <li>
                                        <label>
                                            <input type="radio" name="input-radio-start-auth" value="class" />群组
                                        </label>
                                    </li>
                                    <li>
                                        <label>
                                            <input type="radio" name="input-radio-start-auth" value="class" />岗位
                                        </label>
                                    </li>
                                </ul>
                                <ul class="tab-cont">
                                    <li class="active">
                                        <div class="form-group" >
                                            <div class="col-xs-3 col-xs-offset-1  col-xs-offset-8 start-auth-button" >
                                                <button type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix" name="btn-tab-add-auth" tabIndex="0" data-role="user">添加</button>
                                            </div>
                                        </div>
                                        <div class="">
                                        <!-- <input type="text" id="inputSelectUser" name="inputSelectUser" />
                                        <input type="text" id="inputSelectUserText" name="inputSelectUserText" /> -->
                                            <table class="table table-hover table-bordered table-fix" name="table-auth-user">
                                               	<thead>
                                               		<tr>
                                                        <td>用户编号</td>
                                                        <td>名称</td>
                                                        <td style="width: 17%;">操作</td>
                                                    </tr>
                                               	</thead>
                                                <tbody>
                                                </tbody>
                                            </table>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="form-group" >
                                            <div class="col-xs-3 col-xs-offset-1  col-xs-offset-8 start-auth-button" >
                                                <button type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix" name="btn-tab-add-auth" tabIndex="1" data-role="dept">添加</button>
                                            </div>
                                        </div>
                                        <div >
                                        <!--  <input type="text" id="inputSelectDept" name="inputSelectDept">
                                        <input type="text" id="inputSelectDeptText" name="inputSelectDeptText" > -->
                                            <table class="table table-hover table-bordered table-fix" name="table-auth-dept">
                                            	<thead>
                                            		 <tr>
                                                        <td>部门编号</td>
                                                        <td>名称</td>
                                                        <td style="width: 17%;">操作</td>
                                                    </tr>
                                            	</thead>
                                                <tbody>
                                                </tbody>
                                            </table>
                                        </div>
                                    </li>
                                    <li>
                                      <div class="form-group" >
                                            <div class="col-xs-3 col-xs-offset-1  col-xs-offset-8 start-auth-button" >
                                                <button type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix" name="btn-tab-add-auth" tabIndex="2" data-role="role">添加</button>
                                            </div>
                                        </div>
                                        <div >
                                        <!--  <input type="text" id="inputSelectRole" name="inputSelectRole" />
                                        <input type="text" id="inputSelectRoleText" name="inputSelectRoleText" /> -->
                                            <table class="table table-hover table-bordered table-fix" name="table-auth-role">
                                                <thead>
                                            		 <tr>
                                                        <td>角色编号</td>
                                                        <td>名称</td>
                                                        <td style="width: 17%;">操作</td>
                                                    </tr>
                                            	</thead>
                                                <tbody>
                                                </tbody>
                                            </table>
                                        </div>
                                    </li>
                                    <li>
                                       <div class="form-group" >
                                            <div class="col-xs-3 col-xs-offset-1  col-xs-offset-8 start-auth-button" >
                                                <button type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix" name="btn-tab-add-auth" tabIndex="3" data-role="group">添加</button>
                                            </div>
                                        </div>
                                        <div >
                                         <!-- <input type="text" id="inputSelectGroup" name="inputSelectGroup" />
                                        <input type="text" id="inputSelectGroupText" name="inputSelectGroupText" /> -->
                                            <table class="table table-hover table-bordered table-fix" name="table-auth-group">
                                                <thead>
                                            		 <tr>
                                                        <td>群组编号</td>
                                                        <td>名称</td>
                                                        <td style="width: 17%;">操作</td>
                                                    </tr>
                                            	</thead>
                                                <tbody>
                                                </tbody>
                                            </table>
                                        </div>
                                    </li>
                                    <li>
                                      <div class="form-group" >
                                            <div class="col-xs-3 col-xs-offset-1  col-xs-offset-8 start-auth-button" >
                                                <button type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix" name="btn-tab-add-auth" tabIndex="4" data-role="position">添加</button>
                                            </div>
                                        </div>
                                        <div >
                                      <!--   <input type="text" id="inputSelectPosition" name="inputSelectPosition" />
                                        <input type="text" id="inputSelectPositionText" name="inputSelectPositionText" /> -->
                                            <table class="table table-hover table-bordered table-fix" name="table-auth-position">
                                               <thead>
                                            		 <tr>
                                                        <td>岗位编号</td>
                                                        <td>名称</td>
                                                        <td style="width: 17%;">操作</td>
                                                    </tr>
                                            	</thead>
                                                <tbody>
                                                </tbody>
                                            </table>
                                        </div>
                                    </li>
                                </ul>
                                <!--   启动权限开始 -->
                                <div class="row base_info_bar" <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                                    <div class="label form-process-separate-label"><span>按钮权限</span></div>
                                </div>
                                <div class="" <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                                    <div class="div-auth-checkbox-opinion-modify form-group ">
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">意见修改</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                             <label class="checkbox-parent-label">
                                                <input name="yi_jian_xiu_gai" type="checkbox" value="">
                                            </label>
                                        </div>
                                    </div>
                                    <div class="div-auth-box-opinion-modify hidden" id="div-auth-box-opinion-modify">
                                        <div class="form-group">
                                            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">操作人</label>
                                            <div class="col-xs-5 clear-left-right-padding">
                                              <input type="hidden"  id="operator-data-field" name="operator-data-field">
                                                <input type="text" class="form-control" id="operator-text-field"  name="operator-text-field" readonly>
                                            </div>
                                            <div class="col-xs-3   clear-right-padding">
                                                <button type="button" name="button-auth-operator" type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
                                            </div>
                                        </div>
                                        <!--<div class="form-group">
                                            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">预处理</label>
                                            <div class="col-xs-5 clear-left-right-padding">
                                                <input type="text" class="form-control" id="preprocess-data-field" name="preprocess-data-field" readonly>
                                            </div>
                                            <div class="col-xs-3   clear-right-padding">
                                                <button type="button" name="button-auth-preprocess"  class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
                                            </div>
                                        </div>-->
                                    </div>
                                </div>
                                <div class="" <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                                    <div class="div-auth-checkbox-flow-distribute form-group ">
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">流程跳转</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                              <label class="checkbox-parent-label">
                                                <input name="liu_cheng_tiao_zhuan" type="checkbox" value="">
                                            </label>
                                        </div>
                                    </div>
                                    <div class="div-auth-box-flow-distribute  hidden" id="div-auth-box-flow-distribute">
                                        <div class="form-group">
                                            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">操作人</label>
                                            <div class="col-xs-5 clear-left-right-padding">
                                              <input type="hidden"  id="operator-data-field" name="operator-data-field">
                                                <input type="text" class="form-control" id="operator-text-field"  name="operator-text-field" readonly>
                                            </div>
                                            <div class="col-xs-3   clear-right-padding">
                                                <button name="button-auth-operator" type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
                                            </div>
                                        </div>
                                          <div class="form-group">
                                            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">预处理</label>
                                            <div class="col-xs-5 clear-left-right-padding">
                                                <input type="text" class="form-control" id="preprocess-data-field" name="preprocess-data-field" readonly>
                                            </div>
                                            <div class="col-xs-3   clear-right-padding">
                                                <button name="button-auth-preprocess" type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="" <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                                    <div class="div-auth-checkbox-flow-pause form-group">
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">流程暂停</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                             <label class="checkbox-parent-label">
                                                <input name="liu_cheng_zan_ting" type="checkbox" value="">
                                            </label>
                                        </div>
                                    </div>
                                    <div class="div-auth-box-flow-pause hidden" id="div-auth-box-flow-pause">
                                        <div class="form-group">
                                            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">操作人</label>
                                            <div class="col-xs-5 clear-left-right-padding">
                                              <input type="hidden"  id="operator-data-field" name="operator-data-field">
                                                <input type="text" class="form-control" id="operator-text-field"  name="operator-text-field" readonly>
                                            </div>
                                            <div class="col-xs-3   clear-right-padding">
                                                <button name="button-auth-operator" type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
                                            </div>
                                        </div>
                                        <!--<div class="form-group">
                                            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">预处理</label>
                                            <div class="col-xs-5 clear-left-right-padding">
                                                <input type="text" class="form-control" id="preprocess-data-field" name="preprocess-data-field" readonly>
                                            </div>
                                            <div class="col-xs-3   clear-right-padding">
                                                <button name="button-auth-preprocess" type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
                                            </div>
                                        </div>-->
                                    </div>
                                </div>
                                <div class="" <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                                    <div class="div-auth-checkbox-flow-resume form-group ">
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">流程恢复</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                             <label class="checkbox-parent-label">
                                                <input name="liu_cheng_hui_fu" type="checkbox" value="">
                                            </label>
                                        </div>
                                    </div>
                                     <div class="div-auth-box-flow-resume hidden" id="div-auth-box-flow-resume">
                                        <div class="form-group">
                                            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">操作人</label>
                                            <div class="col-xs-5 clear-left-right-padding">
                                              <input type="hidden"  id="operator-data-field" name="operator-data-field">
                                                <input type="text" class="form-control" id="operator-text-field"  name="operator-text-field" readonly>
                                            </div>
                                            <div class="col-xs-3   clear-right-padding">
                                                <button name="button-auth-operator" type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
                                            </div>
                                        </div>
                                        <!--<div class="form-group">
                                            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">预处理</label>
                                            <div class="col-xs-5 clear-left-right-padding">
                                                <input type="text" class="form-control" id="preprocess-data-field" name="preprocess-data-field" readonly>
                                            </div>
                                            <div class="col-xs-3   clear-right-padding">
                                                <button name="button-auth-preprocess" type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
                                            </div>
                                        </div>-->
                                    </div>
                                </div>
                                <div class="" <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                                    <div class="div-auth-checkbox-flow-stop form-group ">
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">流程结束</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                              <label class="checkbox-parent-label">
                                                <input name="liu_cheng_jie_shu" type="checkbox" value="">
                                            </label>
                                        </div>
                                    </div>
                                     <div class="div-auth-box-flow-stop hidden" id="div-auth-box-flow-stop">
                                        <div class="form-group">
                                            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">操作人</label>
                                            <div class="col-xs-5 clear-left-right-padding">
                                              <input type="hidden"  id="operator-data-field" name="operator-data-field">
                                                <input type="text" class="form-control" id="operator-text-field"  name="operator-text-field" readonly>
                                            </div>
                                            <div class="col-xs-3   clear-right-padding">
                                                <button name="button-auth-operator" type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">预处理</label>
                                            <div class="col-xs-5 clear-left-right-padding">
                                                <input type="text" class="form-control" id="preprocess-data-field" name="preprocess-data-field" readonly>
                                            </div>
                                            <div class="col-xs-3   clear-right-padding">
                                                <button name="button-auth-preprocess" type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="" style="<c:if test="${isUflow == '2'}">display:none;</c:if>" >
                                    <div class="div-auth-checkbox-add-reader form-group">
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">关注工作</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                              <label class="checkbox-parent-label">
                                                <input  name="guan_zhu_gong_zuo" type="checkbox" value="">
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="" style="<c:if test="${isUflow == '2'}">display:none;</c:if>" >
<c:if test="${IE_67 == 'false'}">
                                    <div class="div-auth-checkbox-xiangguanliucheng form-group">
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">相关流程</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                              <label class="checkbox-parent-label">
                                                <input  name="xiang_guan_liu_cheng" type="checkbox" value="">
                                            </label>
                                        </div>
                                    </div>
                                    <div class="div-auth-box-xiangguanliucheng hidden" id="div-auth-box-xiangguanliucheng">
                                        <div class="form-group">
                                            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">操作人</label>
                                            <div class="col-xs-5 clear-left-right-padding">
                                              <input type="hidden"  id="operator-data-field" name="operator-data-field">
                                                <input type="text" class="form-control" id="operator-text-field"  name="operator-text-field" readonly>
                                            </div>
                                            <div class="col-xs-3   clear-right-padding">
                                                <button name="button-auth-operator" type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
                                            </div>
                                        </div>
                                    </div>
</c:if>
                                </div>
                                <div class="" style="<c:if test="${isUflow == '2'}">display:none;</c:if>" >
<c:if test="${IE_67 == 'false'}">
                                    <div class="div-auth-checkbox-guanlianfuliucheng form-group">
                                        <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">关联父流程</label>
                                        <div class="col-xs-8 form-process-properties-value">
                                              <label class="checkbox-parent-label">
                                                <input  name="guan_lian_fu_liucheng" type="checkbox" value="">
                                            </label>
                                        </div>
                                    </div>
                                    <div class="div-auth-box-guanlianfuliucheng hidden" id="div-auth-box-guanlianfuliucheng">
                                        <div class="form-group">
                                            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">操作人</label>
                                            <div class="col-xs-5 clear-left-right-padding">
                                              <input type="hidden"  id="operator-data-field" name="operator-data-field">
                                                <input type="text" class="form-control" id="operator-text-field"  name="operator-text-field" readonly>
                                            </div>
                                            <div class="col-xs-3   clear-right-padding">
                                                <button name="button-auth-operator" type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
                                            </div>
                                        </div>
                                    </div>
</c:if>
                                </div>


<c:forEach var="bpmButtonExt"   items="${bpmButtonExts_global}" varStatus="status">
    <div class="" style="<c:if test="${isUflow == '2'}">display:none;</c:if>" >
    <div class="div-auth-checkbox-${bpmButtonExt.code} form-group">
        <div class="col-xs-10 col-xs-offset-1">
            ${bpmButtonExt.dName}
            <label class="checkbox-parent-label" style="margin-left: 5px;">
                <input name="${bpmButtonExt.code}_attribute" _type="bpm_but_attribute" _name="${bpmButtonExt.dName}" type="checkbox" value="">
            </label>
        </div>
    </div>
    <div class="div-auth-box-${bpmButtonExt.code} hidden" id="div-auth-box-${bpmButtonExt.code}">
        <div class="form-group">
            <label for="" class="col-xs-3 col-xs-offset-1  control-label form-process-properties-label">操作人</label>
            <div class="col-xs-5 clear-left-right-padding">
                <input type="hidden"  id="operator-data-field" name="operator-data-field">
                <input type="text" class="form-control" id="operator-text-field"  name="operator-text-field" readonly>
            </div>
            <div class="col-xs-3   clear-right-padding">
                <button name="button-auth-operator" type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix">选择</button>
            </div>
        </div>
    </div>
    </div>
</c:forEach>

                                <!--   启动权限结束 -->
                            </div>
                        </li>
                        <li <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                            <div class="demoCont">
                                <div class="avic-digital-flow-event">
                                    <div class="form-group ">
                                        <label class="col-xs-3 control-label form-process-properties-label">事件选择</label>
                                        <div class="col-xs-9 form-process-properties-value">
                                            <select class="form-control col-xs-12" name="eventSelect">
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="" class="col-xs-3  control-label form-process-properties-label"><i class="required">*</i>事件名称</label>
                                        <div class="col-xs-9 form-process-properties-value">
                                            <input id="input-event-name" name="input-event-name" type="text"  class="form-control col-xs-12">
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <label for="" class="col-xs-3   control-label form-process-properties-label" style="text-align: left;"><i class="required">*</i>事&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;件</label>
                                        <div class="col-xs-9 form-process-properties-value">
                                            <input id="input-event" name="input-event" type="text"  class="form-control col-xs-12">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="" class="col-xs-3   control-label form-process-properties-label"><i class="no_required">&nbsp;</i>事件类型</label>
                                        <div class="col-xs-9 form-process-properties-value">
                                            <select class="form-control" id="select-event-type" name="select-event-type">
                                                <option value="start" selected="selected">前置事件</option>
                                                <option value="end">后置事件</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div >
                                        <table class="table table-hover table-bordered table-fix" name="constants">
                                            <thead>
                                                <tr>
                                                    <td>常量名</td>
                                                    <td>常量值</td>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                   <tr>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                  <div class="form-group" >
                                            <div class="col-xs-3 col-xs-offset-9 start-auth-button" >
                                            <button type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix" name="btn-add-event">添加</button>
                                            <button type="button" class="btn btn-default form-tool-btn btn-sm form-buttion-fix hidden" name="btn-save-event">保存</button>
                                        </div>
                                    </div>
                                    <div >
                                        <table class="table table-hover table-bordered table-fix" name="table-event-value">
                                            <thead>
                                                <tr>
                                                    <td style="width: 0%;display:none;"></td>
                                                    <td>名称</td>
                                                    <td>事件</td>
                                                    <td>类型</td>
                                                    <td>常量</td>
                                                    <td style="width: 55px;">操作</td>
                                                </tr>
                                            </thead>
                                            <tbody>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </li>
                  		<li <c:if test="${isUflow == '2'}">style="display:none"</c:if>>

                  			 <div class="demoCont">
                  			 <!-- 文档开始  -->
                  			 <div class="bpm-designer-upload" id="bpm-designer-upload">

							 </div>
                  			 <!-- 文档结束 -->
                  			 </div>
                  		</li>
                    	<li <c:if test="${isUflow == '2'}">style="display:none"</c:if>>
                          <!-- html: 路由条件 开始 -->
                            <div class="demoCont">
                                <ul class="global-attrs-tab">
                                    <li class="active">
                                        <label class="form-process-properties-label">
                                            <input type="radio" name="input-radio-condition_type" checked value="Expr" />Expr类型
                                        </label>
                                    </li>
                                    <li>
                                        <label class="form-process-properties-label">
                                            <input type="radio" name="input-radio-condition_type" value="Class" />Class类型
                                        </label>
                                    </li>
                                    <!--<li>
                                        <label class="form-process-properties-label">
                                            <input type="radio" name="input-radio-condition_type" value="exprConfig" />表达式配置
                                        </label>
                                    </li>-->
                                </ul>
                                <ul class="tab-cont">
                                    <li class="active">
                                        <div class="row">
                                            <div class="col-xs-12 clear-left-right-padding">
                                                <textarea rows="4" class="form-control col-xs-12" id="expr-config-value"></textarea>
                                            </div>
                                        </div>
                                        <div class="" style="margin-top: 6px;">
                                            <div class="col-xs-9 clear-left-right-padding">
                                                <select class="form-control" id="yin_ru_bian_liang" name="yin_ru_bian_liang">
                                                	<option selected value="0">引入变量</option>
                                                </select>
                                            </div>
                                            <div class="col-xs-3   button-fix">
                                                <button class="btn btn-default form-tool-btn btn-sm form-buttion-fix" name="btn-add-start-condition" tabIndex="0">添加</button>
                                                <button class="btn btn-default form-tool-btn btn-sm form-buttion-fix hidden" name="btn-save-start-condition" tabIndex="0">保存</button>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="form-group ">
                                            <label class="col-xs-3 control-label form-process-properties-label">条件选择</label>
                                            <div class="col-xs-9 form-process-properties-value">
                                                <select class="form-control col-xs-12" name="processConditionSelect">
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-xs-11 form-process-properties-value col-xs-offset-1">
                                                <input type="text" class="form-control col-xs-11" placeholder="">
                                            </div>
                                        </div>
                                        <div class="">
                                            <div class="col-xs-3   col-xs-offset-8 button-fix" style=" margin-left: 78%;">
                                                <button class="btn btn-default form-tool-btn btn-sm form-buttion-fix" name="btn-add-start-condition" tabIndex="1">添加</button>
                                                <button class="btn btn-default form-tool-btn btn-sm form-buttion-fix hidden" name="btn-save-start-condition" tabIndex="1">保存</button>
                                            </div>
                                        </div>
                                    </li>
                                    <!--<li>
                                        <div class="">
                                            <div class="col-xs-3 col-xs-offset-8 button-fix" style=" margin-left: 69%;">
                                                <button type="button" class="btn btn-default form-tool-btn btn-sm" name="btn-expr-config" >添加表达式</button>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-12 clear-left-right-padding">
                                                <textarea rows="4" class="form-control col-xs-12" id="expr-config-value-new" readonly style="display:none;"></textarea>
                                                <input type="hidden" name = "isExprConfigUpdate" id = "isExprConfigUpdate">
                                            </div>
                                        </div>
                                        <div class="">
                                            <div class="col-xs-3   col-xs-offset-8 button-fix" style=" margin-left: 78%;">
                                                <button class="btn btn-default form-tool-btn btn-sm form-buttion-fix" name="btn-add-start-condition" tabIndex="2" style="display:none;">添加</button>
                                                <button class="btn btn-default form-tool-btn btn-sm form-buttion-fix hidden" name="btn-save-start-condition" tabIndex="2" style="display:none;">保存</button>
                                            </div>
                                        </div>
                                    </li>-->
                                </ul>
                                <div class="" style="">
                                    <table class="table table-hover table-bordered table-fix" name="table-executor" id="table-executor">
                                        <thead>
                                            <tr name="title">
                                                <td style="width: 0%;display:none;"></td>
                                                <td>类型</td>
                                                <td>值</td>
                                                <td style="width: 55px;">操作</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!--   <tr >
                                                <td>1</td>
                                                <td>Expr</td>
                                                <td>{b}='ABC'</td>
                                                <td>
                                                <a href="javascript:void(0)" name="btn-executor-modify">修改</a>
                                                    <button type="button" class="btn btn-primary btn-sm">删除</button>
                                                    <button type="button" class="btn btn-primary btn-sm">修改</button>
                                                </td>
                                            </tr>  -->
                                        </tbody>
                                    </table>
                                </div>
                                <div class="form-group">
                                    <label for="" class="col-xs-3   control-label form-process-properties-label">执行方式</label>
                                    <div class="col-xs-9 form-process-properties-value">
                                        <select class="form-control" id="zhi_xing_fang_shi" name="zhi_xing_fang_shi">
                                            <option value="AND" selected="">AND</option>
                                            <option value="OR">OR</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        <!-- html: 路由条件 结束 -->
                        </li>
                    </ul>
                    <!-- 标签主体End -->
                </div>
            </div>
        </form>
    </div>

    <div name="avic-input-tpl" class="hidden">
        <input type="text" class="form-control" name="input-tpl" id="input-tpl">
    </div>
    <script type="text/javascript">
    var _G = {};
    _G.startConditionLock = false;
    $(function() {
        $('.global-start-auth-tab>li').on('click', function() {
            var that = $(this);
            changeTab(this);
             that.find("input").prop("checked", true);
        });

        /*   全局属性：启动条件开始 */
        // 全局属性tab切换
        $('.global-attrs-tab>li').on('click', function() {
            changeStartConditionTab(this);
        });

        /*  添加class Expr类型button事件*/
        $("button[name='btn-add-start-condition']").on('click', function(argument) {
            EventThatInsertStartConditionContentIntoTable(this);
            if(flowUtils.notNull(_routConditionChangeJs)){
                addWaRoutCondition();
            }
            return false;
        });


        $("a[name='btn-executor-delete']").on('click', function(argument) {
            var $tr = $(this).parents("table[name='table-executor']").find("tbody>tr");
            $(this).parent().parent().remove();
            if(flowUtils.notNull(_routConditionChangeJs)){
                if(!flowUtils.notNull($tr) || ($tr && $tr.length<1)){
                    deleteWaRoutCondition();
                }
            }
        });
        $("a[name='btn-executor-modify']").on('click', function(argument) {
            modifyStartCondition(this);
        });
        /*   全局属性：启动条件结束 */

        /* 全局属性：权限开始*/
        $("button[name='btn-tab-add-auth']").on('click', function(argument) {
            console.log($(this).parent().parent().parent().index())
            return false;
        });

        $("input[name='input-checkbox-button-auth']").on('change', function() {
            var $that = $(this);
            var $content = $that.parent().parent().parent().siblings("div");
            if ($that.is(":checked")) {
                $content.removeClass("hidden");
            } else {
                $content.addClass("hidden"); // 隐藏
                $content.find("input").val("") // 清空内容
            }
        });
        /* 全局属性：权限结束*/
    });
    </script>
    <script type="text/javascript">
    function changeTab(obj) {
        var that = $(obj);
        that.addClass('active')
            .siblings('li')
            .removeClass('active')
            .parent()
            .siblings('.tab-cont')
            .find('>li:eq(' + that.index() + ')')
            .addClass('active')
            .siblings('li')
            .removeClass('active');
    }

    /** 启动条件方法开始  **/
    // 切换启动条件tab
    function changeStartConditionTab(obj) {
        changeTab(obj);
        $(obj).find("input").prop("checked", true);
    }


    // 将表单内容添加到table中
    // obj : 添加按钮
    function EventThatInsertStartConditionContentIntoTable(obj) {
        var that = $(obj);
        var index = that.prop("tabIndex");
        var $thatLi = that.parent().parent().parent();
        var tabName = "";

        if(index==0){
        	tabName = "expr";
        }else if(index==1){
        	tabName = "class";
        }else if(index==2){
        	tabName = "exprConfig";
        }else if(index==3){
            tabName = "jScript";
        }
        //var tabName = index == 0 ? "expr" : "class";
        // 获取到输入内容
        var $content = (index ==1 || index==3) ?$thatLi.find("input"): $thatLi.find("textarea");
        if ($content && $content.val().length != 0) {
            var target = $thatLi.parent().siblings("div").eq(0).find("table[name='table-executor'] tbody");
            EventThatInsertStartConditionContentIntoTableWhenInit(target, tabName, $content);
            //表达式配置时，清空隐藏域的longJson串
            $content.removeAttr("longJson");
        } else {
        	flowUtils.warning("您还没输入内容");
        }
    }

    // 启动条件中赋值
    function EventThatInsertStartConditionContentIntoTableWhenInit($target, tabName, $content) {
        var operate = '<a href="javascript:void(0)" name="btn-executor-delete"><i class="iconfont icon-delete"></i></a>';
        operate += '<a href="javascript:void(0)" name="btn-executor-modify" style="margin-left:5px"><i class="iconfont icon-edit"></i></a>';
        //var c = "<tr><td></td><td>" + tabName + "</td> <td>" + $content.val() + "</td><td>" + operate + "</td></tr>";
       ;
        var c = $("<tr></tr>");
        var td1 = $("<td style='display:none;'></td>");
        var td2 = $("<td></td>");
        td2.text(tabName);
        var td3 = $("<td title ='"+$content.val()+"'></td>");
        td3.text($content.val());
        var longJs = $content.attr("longJson");
        if(longJs !=null && longJs != ''){
            //td3.attr("longJs",longJs);
            var inp = $("<input hidden='true'></input>");
            inp.text(longJs);
            td1.append(inp);
        }
        var td4 = $("<td></td>");
        td4.html(operate);
        c.append(td1);
        c.append(td2);
        c.append(td3);
        c.append(td4);
        $target.append(c);
        $content.val("");
        $("a[name='btn-executor-delete']").off('click');
        $("a[name='btn-executor-modify']").off('click');
        $("a[name='btn-executor-delete']").on('click', function(argument) {
            //if (_G.startConditionLock) {
            //	flowUtils.warning("请先保存当前项")
           // } else {
            var $tbody = $(this).parents("table[name='table-executor']").find("tbody");
            $(this).parent().parent().remove();
            if(flowUtils.notNull(_routConditionChangeJs)){
                var $tr = $tbody.find("tr");
                if(!flowUtils.notNull($tr) || ($tr && $tr.length<1)){
                    deleteWaRoutCondition();
                }
            }
            //}
            return false;
        });
        $("a[name='btn-executor-modify']").on('click', function(argument) {
            //if (!_G.startConditionLock) {
                modifyStartCondition(this);
            //} else {
            //    flowUtils.warning("您有未保存的项，请保存后再修改本项");
           // }

        });
    }

    // 保存按钮事件
    function EventThatSaveStartConditionContentIntoTable(obj, type, value,valJson) {
        var that = $(obj);
        var index = that.prop("tabIndex");
        var $thatLi = that.parent().parent().parent();
        var tabName = null;
        if (index == 0){
            tabName = "expr";
        }else if(index == 1){
            tabName = "class";
        }else if(index ==2){
            tabName = "exprConfig";
        }else if(index ==3){
            tabName = "jScript";
        }
        //var tabName = index == 0 ? "expr" : "class";
        // 获取到输入内容
        var $content = (index == 1 || index == 3) ? $thatLi.find("input") :  $thatLi.find("textarea");
        if ($content && $content.val().length != 0) {
            type.text(tabName);
            value.text($content.val());
            value.attr("title",$content.val());
            if(typeof valJson != "undefined"){
                valJson.text($content.attr("longJson"));
            }
            $content.val("");
            //表达式配置时，清空隐藏域的longJson串
            $content.removeAttr("longJson");
        } else {
             flowUtils.warning("您还没输入内容");
        }
    }

    // 点击修改后的事件
    function modifyStartCondition(obj) {
        _G.startConditionLock = true;
        var $modifyBtn = $(obj);
        var $targetTr = $modifyBtn.parent().parent();
        ;
        var $tabName = $targetTr.find("td:eq(1)");
        var tabIndex = -1;//$tabName.text().toLowerCase() == "expr" ? 0 : 1;
        var tabText = $tabName.text().toLowerCase();
        if(tabText =="expr"){
            tabIndex = 0;
        }else if(tabText == "class"){
            tabIndex = 1;
        }else if(tabText == "exprconfig"){
            tabIndex = 2;
        }else if(tabText == "jscript"){
            tabIndex = 3;
        }
        var $val = $targetTr.find("td:eq(2)");
        var $valInput = $targetTr.find("td:eq(0)").find("input");
        // 先找到顶层的div
        var $top = $modifyBtn.parents("table[name=table-executor]").parent().parent();
        // 赋值
        if (tabText =="exprconfig") {
            var $eee = $targetTr.find("td:eq(0)");
            var attr2 = $eee.find("input").text();
            var area = $top.find("ul:eq(1)")
                .find("li")
                .eq(tabIndex)
                .find(tabIndex == 1 ? "input" : "textarea" );
            area.val($val.text().trim());
            area.attr("longJson",attr2);
            var isExprConfigUpdate = $top.find("ul:eq(1)")
            .find("li")
            .eq(tabIndex).find("[name='isExprConfigUpdate']");
            isExprConfigUpdate.val("1");
            var exprConfigBtn = area.parent().parent().parent().find("[name='btn-expr-config']");
            exprConfigBtn.click();
        }else if(tabText =="expr" || tabText == "class" || tabText == "jscript"){
            $top.find("ul:eq(1)")
                .find("li")
                .eq(tabIndex)
                .find((tabIndex == 1 || tabIndex==3) ? "input" : "textarea" )
                .val($val.text().trim());
        }


        // 进行tab切换
        changeStartConditionTab($top.find("ul:eq(0)").find("li").eq(tabIndex));
        // 显示保存按钮并在该方法中添加事件
        toggleStartConditionBtn();
        // 添加保存按钮事件
        $("button[name='btn-save-start-condition']").off("click").on("click", function() {
            EventThatSaveStartConditionContentIntoTable(this, $tabName, $val,$valInput);
            toggleStartConditionBtn();
            // 清空了输入框
            $top.find("ul")
                .find("li").find("textarea,input").val("");
            //表达式配置时，清空隐藏域的longJson串
            $top.find("ul")
                .find("li").find("textarea,input").removeAttr("longJson");
            _G.startConditionLock = false;
            return false;
        });
    }

    // 切换添加-保存按钮
    function toggleStartConditionBtn() {
        $("button[name='btn-save-start-condition']").each(function(index) {
            var $this = $(this);
            if ($this.hasClass("hidden")) {
                $this.removeClass("hidden");
                $this.siblings().addClass("hidden");
            } else {
                $this.addClass("hidden");
                $this.siblings().removeClass("hidden");
            }
        });
    }
    /** 启动条件方法结束  **/

    //全局和人工节点的前后置事件、流转线的流转事件
    $(function () {
        $.ajax({
            type : "POST",
            url : "platform/bpm/bpmconsole/eventManageAction/getEventListForDesigner",
            data : {
                type : "流程事件监听"
            },
            dataType : "json",
            success : function(result) {
                $("select[name = 'eventSelect']").each(function (i, n) {
                    $(result).each(function (j, m) {
                        var option = $("<option value='"+m.value+"'>"+m.text+"</option>");
                        $(n).append(option);
                    });
                });
            }
        });

        $("select[name = 'eventSelect']").change(function () {
            var value = $(this).val();
            var _self = $(this);
            $(_self).parents(".form-group").siblings().find("#input-event-name").val("");
            $(_self).parents(".form-group").siblings().find("#input-event").val("");
            $(_self).parents(".form-group").siblings().find("table[name='constants']").find("tbody > tr").each(function () {
                $(this).children().eq(0).html("");
                $(this).children().eq(1).html("");
            });
            if (value != "") {
                $.ajax({
                    type : "POST",
                    url : "platform/bpm/bpmconsole/eventManageAction/getEventInfoForDesigner",
                    data : {
                        id : value
                    },
                    dataType : "json",
                    success : function(result) {
                        var bpmClass = result.bpmClass;
                        var properties = result.properties;
                        if (bpmClass) {
                            $(_self).parents(".form-group").siblings().find("#input-event-name").val(bpmClass.name);
                            $(_self).parents(".form-group").siblings().find("#input-event").val(bpmClass.path);
                        }
                        if (properties) {
                            for(var i = 0; i < properties.length; i++){
                                $(_self).parents(".form-group").siblings().find("table[name='constants']").find("tbody > tr").eq(i).children().eq(0).html(properties[i].name);
                                $(_self).parents(".form-group").siblings().find("table[name='constants']").find("tbody > tr").eq(i).children().eq(1).html(properties[i].initExpr);
                            }
                        }
                    }
                });
            }
        });

        //流程启动条件
        $.ajax({
            type : "POST",
            url : "platform/bpm/bpmconsole/eventManageAction/getEventListForDesigner",
            data : {
                type : "流程启动条件"
            },
            dataType : "json",
            success : function(result) {
                $("select[name = 'processConditionSelect']").each(function (i, n) {
                    $(result).each(function (j, m) {
                        var option = $("<option value='"+m.value+"'>"+m.text+"</option>");
                        $(n).append(option);
                    });
                });
            }
        });

        $("select[name = 'processConditionSelect']").change(function () {
            var value = $(this).val();
            var _self = $(this);
            $(_self).parents(".form-group").siblings().eq(0).find("input").val("");
            if (value != "") {
                $.ajax({
                    type : "POST",
                    url : "platform/bpm/bpmconsole/eventManageAction/getEventInfoForDesigner",
                    data : {
                        id : value
                    },
                    dataType : "json",
                    success : function(result) {
                        var bpmClass = result.bpmClass;
                        if (bpmClass) {
                            $(_self).parents(".form-group").siblings().eq(0).find("input").val(bpmClass.path);
                        }
                    }
                });
            }
        });

        //流程路由条件
        $.ajax({
            type : "POST",
            url : "platform/bpm/bpmconsole/eventManageAction/getEventListForDesigner",
            data : {
                type : "流程路由条件"
            },
            dataType : "json",
            success : function(result) {
                $("select[name = 'routeConditionSelect']").each(function (i, n) {
                    $(result).each(function (j, m) {
                        var option = $("<option value='"+m.value+"'>"+m.text+"</option>");
                        $(n).append(option);
                    });
                });
            }
        });

        $("select[name = 'routeConditionSelect']").change(function () {
            var value = $(this).val();
            var _self = $(this);
            $(_self).parents(".form-group").siblings().eq(0).find("input").val("");
            if (value != "") {
                $.ajax({
                    type : "POST",
                    url : "platform/bpm/bpmconsole/eventManageAction/getEventInfoForDesigner",
                    data : {
                        id : value
                    },
                    dataType : "json",
                    success : function(result) {
                        var bpmClass = result.bpmClass;
                        if (bpmClass) {
                            $(_self).parents(".form-group").siblings().eq(0).find("input").val(bpmClass.path);
                        }
                    }
                });
            }
        });
    });
    </script>
