(function(f){f(function(){if(f(".uploader-ext").length>0){f(".uploader-ext").uploaderExt({})}});f.fn.uploaderExt=function(v,w){if(typeof v=="string"){return f.fn.uploaderExt.methods[v](this,w)}v=v||{};return this.each(function(){var z=f.data(this,"uploaderExt");if(z){f.extend(z.options,v)}else{var y=q(this);z=f.data(this,"uploaderExt",{options:f.extend({},f.fn.uploaderExt.defaults,f.fn.uploaderExt.parseOptions(this),v),fileListDIV:y.fileListDIV,selectBtn:y.selectBtn,uploadBtn:y.uploadBtn,fileNumber:0,fileItems:[],fileCategoryList:[],secretLevelList:[]})}c(this);if(z.uploader){}else{var x=i(this);f.extend(z,{uploader:x})}})};f.fn.uploaderExt.needFlash=false;f.fn.uploaderExt.status={inited:"inited",uploaded:"uploaded"};f.fn.uploaderExt.fileTypeIco={text:"fa-file-text-o",code:"fa-file-code-o",word:"fa-file-word-o",excel:"fa-file-excel-o",ppt:"fa-file-powerpoint-o",pdf:"fa-file-pdf-o",zip:"fa-file-zip-o",image:"fa-file-image-o",video:"fa-file-video-o",audio:"fa-file-audio-o",file:"fa-file-o"};f.fn.uploaderExt.fileTypeExts={text:["txt","js","jsp","java","css","sql","ini","conf"],code:["xml","html","htm"],word:["doc","docx","wps"],excel:["xls","xlsx","et"],ppt:["ppt","pptx","dps"],pdf:["pdf"],zip:["zip","rar","tar","gz","cab","uue","arj","bz2","lzh","jar","ace","iso","7z","z"],image:["bmp","gif","jpg","jpeg","png","tif","psd","pic","svg"],video:["rm","avi","mp4","mpg","mov","swf"],audio:["wav","mp3","aif","au","ram","wma","mmf","amr","aac","flac"]};f.fn.uploaderExt.methods={options:function(v){return f.data(v[0],"uploaderExt").options},doUpload:function(x,w,v){return x.each(function(){b(this,w,v)})},getUploadFiles:function(v){return o(v[0])},getUploadedFiles:function(v){return e(v[0])},validateSecret:function(v){return r(v[0])}};f.fn.uploaderExt.parseOptions=function(w){var v=f(w);return f.extend({},{eformUI:v.attr("eformUI")||"bootstrap",formId:v.attr("formId")||undefined,elementId:v.attr("elementId")||undefined,tableName:v.attr("tableName")||undefined,saveType:v.attr("saveType")||undefined,auto:(v.attr("auto")?((v.attr("auto")=="false")?false:true):undefined),expand:(v.attr("expand")?((v.attr("expand")=="false")?false:true):undefined),multiple:(v.attr("multiple")?((v.attr("multiple")=="false")?false:true):undefined),allowUpload:(v.attr("allowUpload")?((v.attr("allowUpload")=="false")?false:true):undefined),allowDownload:(v.attr("allowDownload")?((v.attr("allowDownload")=="false")?false:true):undefined),allowAdd:(v.attr("allowAdd")?((v.attr("allowAdd")=="false")?false:true):undefined),allowDelete:(v.attr("allowDelete")?((v.attr("allowDelete")=="false")?false:true):undefined),allowEncry:(v.attr("allowEncry")?((v.attr("allowEncry")=="false")?false:true):undefined),allowPreview:(v.attr("allowPreview")?((v.attr("allowPreview")=="false")?false:true):undefined),allowSaveOnlineDisk:(v.attr("allowSaveOnlineDisk")?((v.attr("allowSaveOnlineDisk")=="false")?false:true):undefined),allowSameName:(v.attr("allowSameName")?((v.attr("allowSameName")=="false")?false:true):undefined),collapsible:(v.attr("collapsible")?((v.attr("collapsible")=="false")?false:true):undefined),fileNumLimit:isNaN(parseInt(v.attr("fileNumLimit"),10))?undefined:parseInt(v.attr("fileNumLimit"),10),fileSizeLimit:v.attr("fileSizeLimit")||undefined,secretLevel:v.attr("secretLevel")||undefined,formSecret:v.attr("formSecret")||undefined,fileCategory:v.attr("fileCategory")||undefined,allowEditsecretLevel:(v.attr("allowEditsecretLevel")?((v.attr("allowEditsecretLevel")=="false")?false:true):undefined),accept:v.attr("accept")||undefined,beforeUpload:v.attr("beforeUpload")?window[v.attr("beforeUpload")]:undefined,afterUpload:v.attr("afterUpload")?window[v.attr("afterUpload")]:undefined})};f.fn.uploaderExt.defaults={eformUI:"bootstrap",formId:"",elementId:"",attIds:"",deleteAttachUrl:"platform/webuploader/delete.json",tableName:"",saveType:"DataBase",auto:false,expand:true,multiple:true,allowUpload:false,allowDownload:true,allowAdd:true,allowDelete:true,allowEncry:false,allowPreview:false,allowSaveOnlineDisk:false,allowSameName:false,collapsible:true,fileNumLimit:10,fileSizeLimit:undefined,secretLevel:"",fileCategory:"",formSecret:"",allowEditsecretLevel:false,accept:undefined,beforeUpload:function(v){},afterUpload:function(){}};function q(x){var B=8;var v=navigator.userAgent.toLowerCase();var w=v.indexOf("msie")>-1;if(w){var z=v.match(/msie ([\d.]+)/)[1];if(z<=B&&!swfobject.hasFlashPlayerVersion("9.0.28")){f.fn.uploaderExt.needFlash=true}}var D=f(x);D.addClass("uploader-ext");if(f.fn.uploaderExt.needFlash==true){f('<div class="uploader-panel-body">'+'<div class="uploader-file-list"></div>'+"</div>").appendTo(x)}else{f('<div class="uploader-panel-heading">'+'<div class="webuploader-container uploader-file-picker" style="*float:left;padding-bottom:3px;">'+'<span class="icon icon-add">&nbsp;</span>选择文件</div>'+'<button class="uploader-btn-upload"><i class="fa fa-upload fa-fw"></i>开始上传</button>'+'<div class="uploader-heading-infos">'+'<span class="uploader-panel-title" style="display:none"> '+'附件(已添加<span class="uploade-file-number">0</span>个附件)'+"</span>"+'<i class="fa fa-caret-down fa-lg uploader-btn-expend"></i>'+"</div>"+"</div>"+'<div class="uploader-panel-body">'+'<div class="uploader-file-list"></div>'+"</div>").appendTo(x)
}var A=D.find(".uploader-file-list");var y=D.find(".uploader-file-picker");var C=D.find(".uploader-btn-upload");return{fileListDIV:A,selectBtn:y,uploadBtn:C}}function c(y){var x=f.data(y,"uploaderExt");var w=x.options;var v=f(y);if(w.auto){x.uploadBtn.remove()}else{x.uploadBtn.unbind().on("click",function(){b(y)})}if(!w.allowUpload){x.uploadBtn.remove()}if(!w.allowAdd){x.uploadBtn.remove()}if(!w.collapsible){v.find(".uploader-heading-infos").hide()}else{v.find(".uploader-heading-infos").show();if(!w.expand){v.find(".uploader-panel-body").hide();v.find(".uploader-panel-heading").addClass("uploader-panel-heading-collapsed");if(v.find("i.fa-caret-down").length>0){v.find("i.fa-caret-down").addClass("fa-caret-left").removeClass("fa-caret-down")}}}v.find(".uploader-heading-infos").unbind().bind("click",function(){v.find(".uploader-panel-body").toggle();var z=v.find(".uploader-btn-expend");if(z.hasClass("fa-caret-down")){z.addClass("fa-caret-left").removeClass("fa-caret-down")}else{z.addClass("fa-caret-down").removeClass("fa-caret-left")}})}function i(B){var y=f.data(B,"uploaderExt");var x=y.options;var v=n(x.fileSizeLimit);var w=WebUploader.Base.guid();var A={id:y.selectBtn,multiple:x.multiple};if(!x.allowAdd){A=undefined}if(f.fn.uploaderExt.needFlash==true){m(B);layer.msg("请安装flash插件！");return false}var z=WebUploader.create({auto:x.auto,swf:"static/h5/webuploader-0.1.5/dist/Uploader.swf",server:"platform/webuploader/upload.json",pick:A,method:"POST",formData:{guid:w,formId:x.formId,elementId:x.elementId,allowEncry:x.allowEncry,tableName:x.tableName,saveType:x.saveType},chunked:false,disableGlobalDnd:true,compress:null,duplicate:true,fileSingleSizeLimit:v,accept:x.accept});z.on("uploadBeforeSend",function(H,F){var D=H.file;var G=f("#"+D.id);var E=G.find('select[name="fileCategory"]');var C=G.find('select[name="secretLevel"]');F.category=E.val();F.secretLevel=C.val();F.formId=x.formId;F.elementId=x.elementId;F.allowEncry=x.allowEncry;F.addTime=new Date().getTime()});z.on("beforeFileQueued",function(F){if(F.ext==""){layer.msg("上传文件必须有后缀！");return false}else{if(F.ext.replace(/[^\x00-\xff]/g,"**").length>10){layer.msg("上传文件后缀字符小于等于10!");return false}}if(typeof(x.fileCategoryList)!="undefined"&&x.fileCategoryList.length>0){var E=true;for(var D=0;D<x.fileCategoryList.length;D++){if(x.fileCategoryList[D].toLowerCase()==F.ext.toLowerCase()){E=false;break}}if(E){layer.msg("上传文件格式有误!允许上传格式后缀"+JSON.stringify(x.fileCategoryList));return false}}if(x.fileNumLimit>0){if(y.fileNumber>=x.fileNumLimit){layer.msg("超过附件数量限制。您最多能添加"+x.fileNumLimit+"个文件。");return false}}if(!x.allowSameName){var C=g(B,F.name);if(C){layer.msg("文件["+F.name+"]名称重复，请重新选择。");return false}}});z.on("fileQueued",function(D){var E={id:D.id,fileId:"",name:D.name,size:D.size,ext:D.ext,status:f.fn.uploaderExt.status.inited};var C=new s(B,E);h(B)});z.on("uploadProgress",function(E,D){var F=f("#"+E.id),C=F.find(".uploader-file-progress");$percent=C.find(".uploader-file-progress-bar");if(!$percent.length){$percent=f('<div class="uploader-file-progress-bar" style="width: 0%"></div>').appendTo(C)}C.show();$percent.css("width",D*100+"%")});z.on("uploadSuccess",function(F,E){if(E.result&&E.result=="success"){var D=l(B,F.id);if(D){var J=D.getData();J.fileId=E.fileId;J.status=f.fn.uploaderExt.status.uploaded}f("#"+F.id).find(".uploader-file-tools").fadeOut(0,function(){f(this).remove();f("#"+F.id).removeClass("uploader-file-inited");if(p(B)){x.afterUpload.call(B)}});if(x.fileCategory&&x.fileCategory!==""){var H=f("#"+F.id).find('select[name="fileCategory"]');var I=H.find("option:selected").text();H.fadeOut(300,function(){f(this).remove();f("#"+F.id).find(".uploader-file-category").text(I)})}if(x.secretLevel&&x.secretLevel!==""){var C=f("#"+F.id).find('select[name="secretLevel"]');var G=C.find("option:selected").text();C.fadeOut(300,function(){f(this).remove();f("#"+F.id).find(".uploader-file-secret").text(G);f("#"+F.id).find(".uploader-file-secret").attr("filesecret",C.find("option:selected").val())})}}else{f("#"+F.id).addClass("uploader-file-error")}});z.on("uploadError",function(C,D){f("#"+C.id).addClass("uploader-file-error")});z.on("error",function(C,D){if(C=="F_EXCEED_SIZE"){layer.msg("超过附件大小限制！")}else{if(C=="Q_TYPE_DENIED"){layer.msg("不支持上传此文件类型！")}else{layer.msg("附件不能上传！")}}});z.on("uploadComplete",function(C){f("#"+C.id).find(".uploader-file-progress").fadeOut(300,function(){f(this).remove()})});z.on("ready",function(){m(B)});return z}function n(w){var y=1024;var x=y*1024;var z=x*1024;var v;if(w!=undefined&&w!==""&&w!=="0"){if(w.indexOf("K")>0){v=parseInt(w.split("K")[0],10)*y}else{if(w.indexOf("M")>0){v=parseInt(w.split("M")[0],10)*x}else{if(w.indexOf("G")>0){v=parseInt(w.split("G")[0],10)*z}else{if(w.indexOf("B")>0){v=parseInt(w.split("B")[0],10)}else{v=parseInt(w,10)*y}}}}}return isNaN(v)?undefined:v}function m(x){var w=f.data(x,"uploaderExt");var v=w.options;f.ajax({cache:false,type:"post",url:"platform/webuploader/getInfos.json",dataType:"json",data:{formId:v.formId,elementId:v.elementId,fileCategory:v.fileCategory,secretLevel:v.secretLevel,attIds:v.attIds},async:false,error:function(y){},success:function(y){u(x);
        f.extend(w,{fileCategoryList:y.fileCategoryList,secretLevelList:y.secretLevelList});f.each(y.fileList,function(A,B){var C=f.extend({id:"",status:f.fn.uploaderExt.status.uploaded},B);var z=new s(x,C)});f(x).find(".uploader-panel-title").show();h(x);f(window).resize(function(){setTimeout(function(){h(x)},300)})}})}function u(w){var v=f.data(w,"uploaderExt");f.extend(v,{fileNumber:0,fileItems:[],fileCategoryList:[],secretLevelList:[]});v.fileListDIV.html("");f(w).find("span.uploade-file-number").text(0)}function h(C){var v=f.data(C,"uploaderExt");var E=v.itemOuterWidth;var D=v.itemWidth;var x=v.nameWidth;if(!E){E=v.fileListDIV.find(".uploader-file-item").outerWidth(true);D=v.fileListDIV.find(".uploader-file-item").width();x=v.fileListDIV.find(".uploader-file-name").width();f.extend(v,{itemOuterWidth:E,itemWidth:D,nameWidth:x})}var B=v.fileListDIV.width();var z=B%E;var A=Math.floor(B/E);if(Math.floor(z/A)>1){var y=D+Math.floor(z/A)-1;var w=x+Math.floor(z/A)-1;v.fileListDIV.find(".uploader-file-item").css("width",y+"px");v.fileListDIV.find(".uploader-file-name").css("width",w+"px")}}function l(y,z){var x=f.data(y,"uploaderExt");var w=x.fileItems;for(var v=0;v<w.length;v++){if(w[v].getData().id==z){return w[v]}}return null}function s(x,w){this.target=x;this.data=w;this.$element;var v=f.data(x,"uploaderExt");this.create=function(){var D=this;this.$element=f(this.getHtml()).appendTo(v.fileListDIV);this.$element.find(".uploader-btn-remove").bind("click",function(){D.$element.remove();D.removeFromList();v.uploader.removeFile(w.id,true)});var B=v.options;var C=v.options.allowEditsecretLevel;var A=D.data;A.elmobj=this.$element;var z=(w.status==f.fn.uploaderExt.status.inited);if(C&&!z){this.$element.find("select[name='secretLevel']").bind("change",A,y);function y(F){var E=A.elmobj.find("option:selected").val();f.ajax({cache:false,type:"post",url:"platform/webuploader/EditInfo.json",dataType:"json",data:{formId:B.formId,elementId:B.elementId,allowEncry:B.allowEncry,secretLevel:E,fileId:F.data.fileId},async:false,error:function(G){},success:function(G){layer.msg("附件密级修改成功！")}})}}this.bindFileItemInfos();this.addToList()};this.getData=function(){return this.data};this.getCategory=function(){return this.$element.find('select[name="fileCategory"]').val()};this.getSecret=function(){return this.$element.find('select[name="secretLevel"]').val()};this.addToList=function(){var y=v.fileItems;y.push(this);f(x).find("span.uploade-file-number").text(++v.fileNumber)};this.removeFromList=function(){var A=v.fileItems;var y=-1;for(var z=0;z<A.length;z++){if(A[z]==this){y=z;break}}A.splice(y,1);f(x).find("span.uploade-file-number").text(--v.fileNumber)};this.getHtml=function(){var C=v.options;var D=v.options.allowEditsecretLevel;var E=false;if(C.fileCategory&&C.fileCategory!==""){E=true}else{if(C.secretLevel&&C.secretLevel!==""){E=true}}var z=(w.status==f.fn.uploaderExt.status.inited);var A=[];A.push('<div id="'+w.id+'" class="uploader-file-item');A.push(z?" uploader-file-inited":"");A.push(E?" uploader-file-more":"");A.push('">');var B=v.options.eformUI;if(B==="easyui"){var y="avicit/platform6/eform/common/icon/"+j(w.ext)+".png";A.push('<img src="'+y+'" style="margin-top: 3px">')}else{A.push('<i class="fa '+j(w.ext)+' uploader-file-ico"></i>')}A.push('<span class="uploader-file-name" title="'+w.name+'">'+w.name+"</span>");A.push('<span class="uploader-file-size">'+k(w.size)+"</span>");if(z){A.push('<span class="uploader-file-tools">');if(B==="easyui"){A.push('<span class="icon-remove uploader-btn-remove" title="删除">&nbsp;</span>')}else{A.push('<i class="fa fa-close uploader-btn-remove" title="删除"></i>')}A.push("</span>");A.push('<span class="uploader-file-progress" style="display:none"></span>')}if(E){A.push('<span class="uploader-file-moreInfo">');if(C.secretLevel&&C.secretLevel!==""){A.push('<span class="uploader-file-secret" title="附件密级">');A.push((z&&w.secretName==undefined)?t(x):(D?t(x,w.secret):w.secretName));A.push("</span>")}if(C.fileCategory&&C.fileCategory!==""){A.push('<span class="uploader-file-category" title="附件类型">');A.push(z?d(x):w.categoryName);A.push("</span>")}A.push("</span>")}A.push("</div>");return A.join("")};this.bindFileItemInfos=function(){var z=v.options;var A=this;var y;this.$element.bind("mouseenter",function(E){if(w.status==f.fn.uploaderExt.status.inited){return}if(f('.uploader-file-infos[fileId="'+w.fileId+'"]').length>0){return}var B=[];B.push('<div class="uploader-file-infos" fileId="'+w.fileId+'" style="visibility:hidden">');B.push('<span class="uploader-file-infos-tip"><i class="fa fa-caret-up"></i></span>');B.push('<div class="uploader-file-infos-name">'+w.name+"</div>");B.push('<div class="uploader-file-infos-tools">');var C=v.options.eformUI;if(z.allowDownload){B.push('<span class="uploader-file-infos-download" title="下载">');if(C==="easyui"){B.push('<span class="icon-download">&nbsp;</span>下载')}else{B.push('<i class="fa fa-download fa-fw"></i>下载')}B.push("</span>")}if(z.allowPreview){B.push('<span class="uploader-file-infos-preview" title="预览">');
    if(C==="easyui"){B.push('<span class="icon-eye">&nbsp;</span>预览')}else{B.push('<i class="fa fa-eye fa-fw"></i>预览')}B.push("</span>")}if(z.allowDelete){B.push('<span class="uploader-file-infos-delete" title="删除">');if(C==="easyui"){B.push('<span class="icon-remove">&nbsp;</span>删除')}else{B.push('<i class="fa fa-trash-o fa-fw"></i>删除')}B.push("</span>")}if(z.allowSaveOnlineDisk){B.push('<span class="uploader-file-infos-saveonlinedisk" title="存网盘">');if(C==="easyui"){B.push('<span class="icon-save">&nbsp;</span>存网盘')}else{B.push('<i class="fa fa-mail-forward fa-fw"></i>存网盘')}B.push("</span>")}B.push("</div>");B.push("</div>");y=f(B.join("")).appendTo(f("body"));if(z.allowDelete){y.find(".uploader-file-infos-delete").show()}if((f(this).offset().top+f(this).outerHeight()+y.outerHeight(true))>f(window).height()){y.addClass("uploader-file-infos-up");y.find(".fa-caret-up").addClass("fa-caret-down").removeClass("fa-caret-up");y.css("top",f(this).offset().top-y.outerHeight(true)+"px");y.css("left",f(this).offset().left+"px");y.css("width",f(this).outerWidth()+"px")}else{y.css("top",f(this).offset().top+f(this).outerHeight()+"px");y.css("left",f(this).offset().left+"px");y.css("width",f(this).outerWidth()+"px")}y.hide();y.css("visibility","");y.show(100);if(navigator.appName=="Microsoft Internet Explorer"&&navigator.appVersion.match(/8./i)=="8."){y.find(".fa").each(function(){f(this).clone().insertAfter(f(this));f(this).remove()})}if(z.allowDownload){var D=z.allowEncry;f(y).find(".uploader-file-infos-download").unbind().bind("click",function(F){a(w.fileId,D)})}if(z.allowPreview){}if(z.allowDelete){f(y).find(".uploader-file-infos-delete").unbind().bind("click",function(){layer.confirm("确定要删除此附件吗？",{icon:3,title:"提示",area:["400px",""]},function(F){f.ajax({cache:false,type:"post",url:z.deleteAttachUrl,dataType:"json",data:{fileId:w.fileId},async:false,error:function(G){},success:function(G){A.$element.remove();A.removeFromList()}});layer.close(F)})})}if(z.allowSaveOnlineDisk){}window["uploader-ext-timer"]="";y.off("mouseleave mouseenter").on("mouseleave",function(G){var F=G.relatedTarget||G.toElement;if(f(F).closest(".uploader-file-item").length==0||f(F).closest(".uploader-file-item")[0]!=A.$element[0]){window["uploader-ext-timer"]=setTimeout(function(){y.hide(100,function(){y.remove()})},200)}}).on("mouseenter",function(F){clearTimeout(window["uploader-ext-timer"])});A.$element.off("mouseenter.leave mouseleave").on("mouseleave",function(G){var F=G.relatedTarget||G.toElement;if(f(F).closest(".uploader-file-infos").length==0||f(F).closest(".uploader-file-infos")[0]!=y[0]){window["uploader-ext-timer"]=setTimeout(function(){y.hide(100,function(){y.remove()})},200)}}).on("mouseenter.leave",function(F){clearTimeout(window["uploader-ext-timer"])})})};this.create()}function d(A){var z=f.data(A,"uploaderExt");var x=z.options;var y=z.fileCategoryList;var w=[];if(x.fileCategory!=""&&y&&y.length>0){w.push('<select name="fileCategory">');for(var v=0;v<y.length;v++){w.push('<option value="'+y[v].lookupCode+'">'+y[v].lookupName+"</option>")}w.push("</select>")}return w.join("")}function t(B,y){var A=f.data(B,"uploaderExt");var x=A.options;var z=A.secretLevelList;var w=[];if(x.secretLevel!=""&&z&&z.length>0){w.push('<select name="secretLevel">');for(var v=0;v<z.length;v++){if(y==z[v].lookupCode){w.push('<option value="'+z[v].lookupCode+'" selected>'+z[v].lookupName+"</option>")}else{w.push('<option value="'+z[v].lookupCode+'">'+z[v].lookupName+"</option>")}}w.push("</select>")}return w.join("")}function k(v){if(typeof(v)!="number"){v=parseInt(v,"10")}var w="";if(v>1024*1024*1024){w=(v/(1024*1024*1024)).toFixed(2)+"G"}else{if(v>1024*1024){w=(v/(1024*1024)).toFixed(2)+"M"}else{if(v>1024){w=(v/1024).toFixed(2)+"K"}else{w=v+"B"}}}return w}function a(v,x){var w=f("#uploaderDownloadFrame");if(w.length==0){w=f('<iframe id="uploaderDownloadFrame" style="display: none;"></iframe>').appendTo("body")}w.attr("src","platform/webuploader/download?fileId="+v+"&allowEncry="+x)}function b(A,C,v){if(f.fn.uploaderExt.needFlash==true){layer.msg("请安装flash插件！");return false}f(".uploader-btn-remove").hide();var z=f.data(A,"uploaderExt");var x=z.options;var y=x.allowEditsecretLevel;if(C&&C!==""){x.formId=C}if(v&&v!==""){x.elementId=v}var w=o(A);var B=x.beforeUpload.call(A,w);if(!(typeof(B)=="boolean"&&!B)){if(p(A)){x.afterUpload.call(A)}z.uploader.upload()}}function r(A){var z=f.data(A,"uploaderExt");var x=z.options;var w=o(A);var C=e(A);if(x.secretLevel!=""&&x.formSecret!=""){var y=f("[name='"+x.formSecret+"']").val();if((y==""||y==undefined||y==null)&&w.length>0){layer.msg("表单密级["+x.formSecret+"]没有值，请检查！");return false}var B="";for(var v=0;v<C.length;v++){if(C[v].secretLevel>y){B="已上传的第"+(v+1)+"个附件密级高于文档密级！";break}}for(var v=0;v<w.length;v++){if(w[v].secretLevel>y){B="待上传的第"+(v+1)+"个附件密级高于文档密级！";break}}if(""!=B){layer.msg(B);return false}else{return true}}return true}function p(w){var v=f.data(w,"uploaderExt");var x=0;f.each(v.fileItems,function(z,y){var A=y.getData();
    if(A.status==f.fn.uploaderExt.status.inited){x++}});if(x==0){return true}else{return false}}function g(x,y){var w=f.data(x,"uploaderExt");var v=false;f.each(w.fileItems,function(A,z){var B=z.getData();if(B.name==y){v=true}});return v}function o(x){var w=f.data(x,"uploaderExt");var v=[];f.each(w.fileItems,function(z,y){var C=y.getData();if(C.status==f.fn.uploaderExt.status.inited){var B=y.getCategory();var A=y.getSecret();var D={id:C.id,name:C.name,size:C.size,category:B,secretLevel:A};v.push(D)}});return v}function e(x){var w=f.data(x,"uploaderExt");var v=[];f.each(w.fileItems,function(z,y){var C=y.getData();if(C.status==f.fn.uploaderExt.status.uploaded){var B=y.getCategory();var A=C.secret;if(!A){A=this.$element.find(".uploader-file-secret").attr("filesecret")}var D={id:C.id,fileId:C.fileId,name:C.name,size:C.size,category:B,secretLevel:A};v.push(D)}});return v}function j(y){if(y){y=y.toLowerCase()}else{return f.fn.uploaderExt.fileTypeIco.file}for(var x in f.fn.uploaderExt.fileTypeExts){var w=f.fn.uploaderExt.fileTypeExts[x];for(var v=0;v<w.length;v++){if(w[v]==y){return f.fn.uploaderExt.fileTypeIco[x]}}}return f.fn.uploaderExt.fileTypeIco.file}})(jQuery);