var selfDefQury=(function(e){var g=e,d=[],b={name:"或者(or)",field:"or",type:2,dataType:"none"},c={name:"分组",field:"group",type:3,dataType:"none"},a=function(h){return Object.prototype.toString.call(h)==="[object Array]"},f=function(){alert("没有设置查询回调")};return{init:function(i){var h;if(typeof(i)==="string"){h="无";g.each(g("#"+i+" td"),function(o,p){var m={},n=g(p),l=n.attr("sfn-name"),k=n.attr("sfn-type");if(l){m.name=n.text()||h;m.field=l;m.type=1;m.dataType=k;if(k==="dict"){m.dictCode=n.attr("sfn-code")}d.push(m)}})}else{if(a(i)){d=i}}d.push(b);d.push(c);return this},show:function(){if(!this._iDg){this._iDg=new CommonDialog("yy","700","500","static/js/platform/component/sfn/SelfDefiningQuery.jsp","高级查询",false,true,false);this._iDg.setDestroy(false)}this._iDg.show()},getFields:function(){return d},setQuery:function(h){f=h;return this},getQuery:function(){return f}}}($));