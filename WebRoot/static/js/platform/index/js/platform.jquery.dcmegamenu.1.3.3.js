(function(c){var a;var b;var d;c.fn.dcMegaMenu=function(g,f){var h={classParent:"dc-mega",classContainer:"sub-container",classSubParent:"mega-hdr",classSubLink:"mega-hdr",classWidget:"dc-extra",rowItems:3,speed:"fast",effect:"fade",event:"hover",fullWidth:false,onLoad:function(){},beforeOpen:function(){},beforeClose:function(){}};var g=c.extend(h,g);var e=this;if(typeof(a)=="undefined"){a=this}else{e=a}return e.each(function(u){var o=h.classSubParent;var t=h.classSubLink;var r=h.classParent;var s=h.classContainer;var p=h.classWidget;q();function m(){var x=c(".sub",this);var z=c(".dc-mega",this);var w=x.parent("."+s);w.show();c(this).addClass("mega-hover");if(h.effect=="fade"){c(x).fadeIn(h.speed)}if(h.effect=="slide"){c(x).show(h.speed)}if(z.position()!=null){d=z.position().left}if(w.outerWidth()!=null){b=w.outerWidth()}var y=getWindowWidth();var v=parseInt(c("div.menu-header").css("marginLeft"));if(d+b+v>y){n(w,y-b-v)}else{if(d+v<0){n(w,0-v)}else{n(w,d)}}}function n(w,v){w.css("left",(v-3)+"px");w.css("marginLeft","0px")}function j(x){var w=c(".sub",x);var z=c(".dc-mega",x);var v=w.parent("."+s);v.show();c(x).addClass("mega-hover");if(h.effect=="fade"){c(w).fadeIn(h.speed)}if(h.effect=="slide"){c(w).show(h.speed)}if(z.position()!=null){d=z.position().left}if(v.outerWidth()!=null){b=v.outerWidth()}var y=getWindowWidth();if(d+b>y){n(v,y-b)}else{n(v,d)}h.beforeOpen.call(this)}function l(){var v=c(".sub",this);c(this).removeClass("mega-hover");c(v).hide();v.parent("."+s).hide();h.beforeClose.call(this)}function i(w){var v=c(".sub",w);c(w).removeClass("mega-hover");c(v).hide();v.parent("."+s).hide();h.beforeClose.call(this)}function k(){c("li",e).removeClass("mega-hover");c(".sub",e).hide();c("."+s,e).hide()}function q(){$arrow='<span class="dc-mega-icon"></span>';var x=r+"-li";var w=getWindowWidth();c("> li",e).each(function(F){var I=c("> ul",this);var z=c("> a",this);if(I.length){z.addClass(r).append($arrow);I.addClass("sub").wrap('<div class="'+s+'" />');I.after('<iframe class="platform6BackgroundIframe"></iframe>');var C=c(this).position();pl=C.left;if(c("ul",I).length){c(this).addClass(x);c("."+s,this).addClass("mega");c("> li",I).each(function(){if(!c(this).hasClass(p)){c(this).addClass("mega-unit");if(c("> ul",this).length){c(this).addClass(o);c("> a",this).addClass(o+"-a")}else{c(this).addClass(t);c("> a",this).addClass(t+"-a")}}});I.show();var G=c(this).width();var M=pl+G;var L=w-M;var K=I.outerWidth();var J=I.parent("."+s).outerWidth();var R=I.parent("."+s).outerHeight();var H=J-K;if(h.fullWidth==true){var A=w-H;I.parent("."+s).css({width:A+"px"});e.addClass("full-width")}var B=c(".mega-unit",I).outerWidth(true);var N=c(".row:eq(0) .mega-unit",I).length;var D=B*N;var E=D+H;var Q;if(h.fullWidth==true){Q={left:0}}else{var O=L<O?O+O-L:(E-G)/2;var P=pl-O;Q={left:(pl)+"px",marginLeft:-2+"px"};if(K+pl>w){Q={marginLeft:0,left:w-K+"px"}}}c("."+s,this).css(Q);I.hide();c("."+s,this).hide();c(".platform6BackgroundIframe",this).css({width:J+"px",height:R+"px"})}else{I.show();var R=I.parent("."+s).outerHeight();var J=I.parent("."+s).outerWidth();I.hide();var C=c(this).position();pl=C.left;var K=I.outerWidth();if(K+pl>w){c("."+s,this).addClass("non-mega").css("left",w-K+"px").css("marginLeft",0)}else{c("."+s,this).addClass("non-mega").css("left",pl+"px")}c("."+s,this).hide();c(".platform6BackgroundIframe",this).css({width:J+"px",height:R+"px"})}}});var y=c("> li > a",e).outerHeight(true);c("."+s,e).css({top:y+"px"}).css("z-index","1000");if(h.event=="hover"){var v={sensitivity:2,interval:100,over:m,timeout:400,out:l};c("li",e).hoverIntent(v)}if(h.event=="click"){c("body").mouseup(function(z){if(!c(z.target).parents(".mega-hover").length){k()}});c("> li > a."+r,e).click(function(z){var A=c(this).parent();if(f=="0"){if(A.hasClass("mega-hover")){i(A)}else{j(A)}}else{}z.preventDefault()})}h.onLoad.call(this)}})}})(jQuery);function getWindowWidth(){var a=0;if(window.innerWidth){a=window.innerWidth}else{if((document.body)&&(document.body.clientWidth)){a=document.body.clientWidth}}if(document.documentElement&&document.documentElement.clientWidth){a=document.documentElement.clientWidth}return a};