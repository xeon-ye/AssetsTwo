<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="avicit.assets.device.assetsdevicemetering.dao.AssetsDeviceMeteringDao">

<resultMap id="AssetsDeviceMeteringDTOMap" type="avicit.assets.device.assetsdevicemetering.dto.AssetsDeviceMeteringDTO">
		<result property="id" column="ID" jdbcType="VARCHAR" />
		<result property="createdBy" column="CREATED_BY" jdbcType="VARCHAR" />
		<result property="creationDate" column="CREATION_DATE" jdbcType="TIMESTAMP" />
		<result property="lastUpdatedBy" column="LAST_UPDATED_BY" jdbcType="VARCHAR" />
		<result property="lastUpdateDate" column="LAST_UPDATE_DATE" jdbcType="TIMESTAMP" />
		<result property="lastUpdateIp" column="LAST_UPDATE_IP" jdbcType="VARCHAR" />
		<result property="version" column="VERSION" jdbcType="DECIMAL" />
		<result property="procId" column="PROC_ID" jdbcType="VARCHAR" />
		<result property="applicantId" column="APPLICANT_ID" jdbcType="VARCHAR" />
		<result property="applicantDepart" column="APPLICANT_DEPART" jdbcType="VARCHAR" />
		<result property="ownerId" column="OWNER_ID" jdbcType="VARCHAR" />
		<result property="ownerDept" column="OWNER_DEPT" jdbcType="VARCHAR" />
		<result property="senddevicePid" column="SENDDEVICE_PID" jdbcType="VARCHAR" />
		<result property="senddeviceDept" column="SENDDEVICE_DEPT" jdbcType="VARCHAR" />
		<result property="takedevicePid" column="TAKEDEVICE_PID" jdbcType="VARCHAR" />
		<result property="takedeviceDept" column="TAKEDEVICE_DEPT" jdbcType="VARCHAR" />
		<result property="deliveryPid" column="DELIVERY_PID" jdbcType="VARCHAR" />
		<result property="deliveryDept" column="DELIVERY_DEPT" jdbcType="VARCHAR" />
		<result property="formState" column="FORM_STATE" jdbcType="VARCHAR" />
		<result property="unifiedId" column="UNIFIED_ID" jdbcType="VARCHAR" />
		<result property="deviceName" column="DEVICE_NAME" jdbcType="VARCHAR" />
		<result property="deviceCategory" column="DEVICE_CATEGORY" jdbcType="VARCHAR" />
		<result property="deviceSpec" column="DEVICE_SPEC" jdbcType="VARCHAR" />
		<result property="deviceModel" column="DEVICE_MODEL" jdbcType="VARCHAR" />
		<result property="secretLevel" column="SECRET_LEVEL" jdbcType="VARCHAR" />
		<result property="positionId" column="POSITION_ID" jdbcType="VARCHAR" />
		<result property="manufacturer" column="MANUFACTURER" jdbcType="VARCHAR" />
		<result property="isMetering" column="IS_METERING" jdbcType="VARCHAR" />
		<result property="meterMode" column="METER_MODE" jdbcType="VARCHAR" />
		<result property="meterFinishDate" column="METER_FINISH_DATE" jdbcType="TIMESTAMP" />
		<result property="meterCycle" column="METER_CYCLE" jdbcType="DECIMAL" />
		<result property="lastMeteringDate" column="LAST_METERING_DATE" jdbcType="TIMESTAMP" />
		<result property="meterPerson" column="METER_PERSON" jdbcType="VARCHAR" />
		<result property="meterPlanPerson" column="METER_PLAN_PERSON" jdbcType="VARCHAR" />
		<result property="meterTakeawayPerson" column="METER_TAKEAWAY_PERSON" jdbcType="VARCHAR" />
		<result property="meterConclusion" column="METER_CONCLUSION" jdbcType="VARCHAR" />
		<result property="isDeriveOft" column="IS_DERIVE_OFT" jdbcType="VARCHAR" />
		<result property="expressNumber" column="EXPRESS_NUMBER" jdbcType="VARCHAR" />
		<result property="deliveryDate" column="DELIVERY_DATE" jdbcType="TIMESTAMP" />
		<result property="attribute01" column="ATTRIBUTE_01" jdbcType="VARCHAR" />
		<result property="attribute02" column="ATTRIBUTE_02" jdbcType="VARCHAR" />
		<result property="attribute03" column="ATTRIBUTE_03" jdbcType="VARCHAR" />
		<result property="attribute04" column="ATTRIBUTE_04" jdbcType="VARCHAR" />
		<result property="attribute05" column="ATTRIBUTE_05" jdbcType="VARCHAR" />
		<result property="attribute06" column="ATTRIBUTE_06" jdbcType="VARCHAR" />
		<result property="attribute07" column="ATTRIBUTE_07" jdbcType="VARCHAR" />
		<result property="attribute08" column="ATTRIBUTE_08" jdbcType="VARCHAR" />
		<result property="attribute09" column="ATTRIBUTE_09" jdbcType="VARCHAR" />
		<result property="attribute10" column="ATTRIBUTE_10" jdbcType="VARCHAR" />
		<result property="attribute11" column="ATTRIBUTE_11" jdbcType="DECIMAL" />
		<result property="attribute12" column="ATTRIBUTE_12" jdbcType="DECIMAL" />
		<result property="attribute13" column="ATTRIBUTE_13" jdbcType="DECIMAL" />
		<result property="attribute14" column="ATTRIBUTE_14" jdbcType="DECIMAL" />
		<result property="attribute15" column="ATTRIBUTE_15" jdbcType="DECIMAL" />
		<result property="attribute16" column="ATTRIBUTE_16" jdbcType="DECIMAL" />
		<result property="attribute17" column="ATTRIBUTE_17" jdbcType="TIMESTAMP" />
		<result property="attribute18" column="ATTRIBUTE_18" jdbcType="TIMESTAMP" />
		<result property="attribute19" column="ATTRIBUTE_19" jdbcType="TIMESTAMP" />
		<result property="attribute20" column="ATTRIBUTE_20" jdbcType="TIMESTAMP" />
		<result property="procedureFileId" column="PROCEDURE_FILE_ID" jdbcType="VARCHAR" />
		<result property="meteringOrigin" column="METERING_ORIGIN" jdbcType="VARCHAR" />
		<result property="isDeliveryAllowed" column="IS_DELIVERY_ALLOWED" jdbcType="VARCHAR" />
		<result property="formCheckConclude" column="FORM_CHECK_CONCLUDE" jdbcType="VARCHAR" />
		<result property="managerConclude" column="MANAGER_CONCLUDE" jdbcType="VARCHAR" />
		<result property="activityalias_" column="activityalias_" jdbcType="VARCHAR" />
		<result property="businessstate_" column="businessstate_" jdbcType="VARCHAR" />
</resultMap>
<!-- 分页查询 ASSETS_DEVICE_METERING -->
<select id="searchAssetsDeviceMeteringByPage" parameterType="java.util.Map" resultMap="AssetsDeviceMeteringDTOMap">
	select
		v.activityalias_                 ,
		v.businessstate_                 ,
		t1.id                             ,
		t1.created_by                     ,
		t1.creation_date                  ,
		t1.last_updated_by                ,
		t1.last_update_date               ,
		t1.last_update_ip                 ,
		t1.version                        ,
		t1.proc_id						  ,
		t1.applicant_id                   ,
		t1.applicant_depart               ,
		t1.owner_id                       ,
		t1.owner_dept                     ,
		t1.senddevice_pid                 ,
		t1.senddevice_dept                ,
		t1.takedevice_pid                 ,
		t1.takedevice_dept                ,
		t1.delivery_pid                   ,
		t1.delivery_dept                  ,
		t1.form_state                     ,
		t1.unified_id                     ,
		t1.device_name                    ,
		t1.device_category                ,
		t1.device_spec                    ,
		t1.device_model                   ,
		t1.secret_level                   ,
		t1.position_id                    ,
		t1.manufacturer                   ,
		t1.is_metering                    ,
		t1.meter_mode                     ,
		t1.meter_finish_date              ,
		t1.meter_cycle                    ,
		t1.last_metering_date             ,
		t1.meter_person                   ,
		t1.meter_plan_person              ,
		t1.meter_takeaway_person          ,
		t1.meter_conclusion               ,
		t1.is_derive_oft                  ,
		t1.express_number                 ,
		t1.delivery_date                  ,
		t1.attribute_01                   ,
		t1.attribute_02                   ,
		t1.attribute_03                   ,
		t1.attribute_04                   ,
		t1.attribute_05                   ,
		t1.attribute_06                   ,
		t1.attribute_07                   ,
		t1.attribute_08                   ,
		t1.attribute_09                   ,
		t1.attribute_10                   ,
		t1.attribute_11                   ,
		t1.attribute_12                   ,
		t1.attribute_13                   ,
		t1.attribute_14                   ,
		t1.attribute_15                   ,
		t1.attribute_16                   ,
		t1.attribute_17                   ,
		t1.attribute_18                   ,
		t1.attribute_19                   ,
		t1.attribute_20                   ,
		t1.procedure_file_id              ,
		t1.metering_origin                ,
		t1.is_delivery_allowed            ,
		t1.form_check_conclude            ,
		t1.manager_conclude               
	from assets_device_metering 	t1 left join bpm_client_hist_procinst_v v on t1.id = v.formid_ 
		<where>
			<if test="bean != null">
			<if test="bean.id != null and bean.id != ''">
				and t1.ID =#{bean.id}
			</if>
			<if test="bean.createdBy != null and bean.createdBy != ''">
				and t1.CREATED_BY like concat(concat('%',#{bean.createdBy}),'%') 
			</if>
			<if test="bean.creationDate != null and bean.creationDate != ''">
				and t1.CREATION_DATE like concat(concat('%',#{bean.creationDate}),'%') 
			</if>
			<if test="bean.lastUpdatedBy != null and bean.lastUpdatedBy != ''">
				and t1.LAST_UPDATED_BY like concat(concat('%',#{bean.lastUpdatedBy}),'%') 
			</if>
			<if test="bean.lastUpdateDate != null and bean.lastUpdateDate != ''">
				and t1.LAST_UPDATE_DATE like concat(concat('%',#{bean.lastUpdateDate}),'%') 
			</if>
			<if test="bean.lastUpdateIp != null and bean.lastUpdateIp != ''">
				and t1.LAST_UPDATE_IP like concat(concat('%',#{bean.lastUpdateIp}),'%') 
			</if>
			<if test="bean.version != null ">
				and t1.VERSION like concat(concat('%',#{bean.version}),'%') 
			</if>
			<if test="bean.procId != null and bean.procId != ''">
				and t1.PROC_ID like concat(concat('%',#{bean.procId}),'%')
			</if>
			<if test="bean.applicantId != null and bean.applicantId != ''">
				and t1.APPLICANT_ID like concat(concat('%',#{bean.applicantId}),'%') 
			</if>
			<if test="bean.applicantDepart != null and bean.applicantDepart != ''">
				and t1.APPLICANT_DEPART like concat(concat('%',#{bean.applicantDepart}),'%') 
			</if>
			<if test="bean.ownerId != null and bean.ownerId != ''">
				and t1.OWNER_ID like concat(concat('%',#{bean.ownerId}),'%') 
			</if>
			<if test="bean.ownerDept != null and bean.ownerDept != ''">
				and t1.OWNER_DEPT like concat(concat('%',#{bean.ownerDept}),'%') 
			</if>
			<if test="bean.senddevicePid != null and bean.senddevicePid != ''">
				and t1.SENDDEVICE_PID like concat(concat('%',#{bean.senddevicePid}),'%') 
			</if>
			<if test="bean.senddeviceDept != null and bean.senddeviceDept != ''">
				and t1.SENDDEVICE_DEPT like concat(concat('%',#{bean.senddeviceDept}),'%') 
			</if>
			<if test="bean.takedevicePid != null and bean.takedevicePid != ''">
				and t1.TAKEDEVICE_PID like concat(concat('%',#{bean.takedevicePid}),'%') 
			</if>
			<if test="bean.takedeviceDept != null and bean.takedeviceDept != ''">
				and t1.TAKEDEVICE_DEPT like concat(concat('%',#{bean.takedeviceDept}),'%') 
			</if>
			<if test="bean.deliveryPid != null and bean.deliveryPid != ''">
				and t1.DELIVERY_PID like concat(concat('%',#{bean.deliveryPid}),'%') 
			</if>
			<if test="bean.deliveryDept != null and bean.deliveryDept != ''">
				and t1.DELIVERY_DEPT like concat(concat('%',#{bean.deliveryDept}),'%') 
			</if>
			<if test="bean.formState != null and bean.formState != ''">
				and t1.FORM_STATE like concat(concat('%',#{bean.formState}),'%') 
			</if>
			<if test="bean.unifiedId != null and bean.unifiedId != ''">
				and t1.UNIFIED_ID like concat(concat('%',#{bean.unifiedId}),'%') 
			</if>
			<if test="bean.deviceName != null and bean.deviceName != ''">
				and t1.DEVICE_NAME like concat(concat('%',#{bean.deviceName}),'%') 
			</if>
			<if test="bean.deviceCategory != null and bean.deviceCategory != ''">
				and t1.DEVICE_CATEGORY like concat(concat('%',#{bean.deviceCategory}),'%') 
			</if>
			<if test="bean.deviceSpec != null and bean.deviceSpec != ''">
				and t1.DEVICE_SPEC like concat(concat('%',#{bean.deviceSpec}),'%') 
			</if>
			<if test="bean.deviceModel != null and bean.deviceModel != ''">
				and t1.DEVICE_MODEL like concat(concat('%',#{bean.deviceModel}),'%') 
			</if>
			<if test="bean.secretLevel != null and bean.secretLevel != ''">
				and t1.SECRET_LEVEL like concat(concat('%',#{bean.secretLevel}),'%') 
			</if>
			<if test="bean.positionId != null and bean.positionId != ''">
				and t1.POSITION_ID like concat(concat('%',#{bean.positionId}),'%') 
			</if>
			<if test="bean.manufacturer != null and bean.manufacturer != ''">
				and t1.MANUFACTURER like concat(concat('%',#{bean.manufacturer}),'%') 
			</if>
			<if test="bean.isMetering != null and bean.isMetering != ''">
				and t1.IS_METERING like concat(concat('%',#{bean.isMetering}),'%') 
			</if>
			<if test="bean.meterMode != null and bean.meterMode != ''">
				and t1.METER_MODE like concat(concat('%',#{bean.meterMode}),'%') 
			</if>
			<if test="bean.meterFinishDateBegin != null and bean.meterFinishDateBegin != ''">
				and t1.METER_FINISH_DATE &gt;= #{bean.meterFinishDateBegin}
			</if>
			<if test="bean.meterFinishDateEnd != null and bean.meterFinishDateEnd != ''">
				and t1.METER_FINISH_DATE &lt;= #{bean.meterFinishDateEnd}
			</if>
			<if test="bean.meterCycle != null ">
				and t1.METER_CYCLE like concat(concat('%',#{bean.meterCycle}),'%') 
			</if>
			<if test="bean.lastMeteringDateBegin != null and bean.lastMeteringDateBegin != ''">
				and t1.LAST_METERING_DATE &gt;= #{bean.lastMeteringDateBegin}
			</if>
			<if test="bean.lastMeteringDateEnd != null and bean.lastMeteringDateEnd != ''">
				and t1.LAST_METERING_DATE &lt;= #{bean.lastMeteringDateEnd}
			</if>
			<if test="bean.meterPerson != null and bean.meterPerson != ''">
				and t1.METER_PERSON like concat(concat('%',#{bean.meterPerson}),'%') 
			</if>
			<if test="bean.meterPlanPerson != null and bean.meterPlanPerson != ''">
				and t1.METER_PLAN_PERSON like concat(concat('%',#{bean.meterPlanPerson}),'%') 
			</if>
			<if test="bean.meterTakeawayPerson != null and bean.meterTakeawayPerson != ''">
				and t1.METER_TAKEAWAY_PERSON like concat(concat('%',#{bean.meterTakeawayPerson}),'%') 
			</if>
			<if test="bean.meterConclusion != null and bean.meterConclusion != ''">
				and t1.METER_CONCLUSION like concat(concat('%',#{bean.meterConclusion}),'%') 
			</if>
			<if test="bean.isDeriveOft != null and bean.isDeriveOft != ''">
				and t1.IS_DERIVE_OFT like concat(concat('%',#{bean.isDeriveOft}),'%') 
			</if>
			<if test="bean.expressNumber != null and bean.expressNumber != ''">
				and t1.EXPRESS_NUMBER like concat(concat('%',#{bean.expressNumber}),'%') 
			</if>
			<if test="bean.deliveryDateBegin != null and bean.deliveryDateBegin != ''">
				and t1.DELIVERY_DATE &gt;= #{bean.deliveryDateBegin}
			</if>
			<if test="bean.deliveryDateEnd != null and bean.deliveryDateEnd != ''">
				and t1.DELIVERY_DATE &lt;= #{bean.deliveryDateEnd}
			</if>
			<if test="bean.attribute01 != null and bean.attribute01 != ''">
				and t1.ATTRIBUTE_01 like concat(concat('%',#{bean.attribute01}),'%') 
			</if>
			<if test="bean.attribute02 != null and bean.attribute02 != ''">
				and t1.ATTRIBUTE_02 like concat(concat('%',#{bean.attribute02}),'%') 
			</if>
			<if test="bean.attribute03 != null and bean.attribute03 != ''">
				and t1.ATTRIBUTE_03 like concat(concat('%',#{bean.attribute03}),'%') 
			</if>
			<if test="bean.attribute04 != null and bean.attribute04 != ''">
				and t1.ATTRIBUTE_04 like concat(concat('%',#{bean.attribute04}),'%') 
			</if>
			<if test="bean.attribute05 != null and bean.attribute05 != ''">
				and t1.ATTRIBUTE_05 like concat(concat('%',#{bean.attribute05}),'%') 
			</if>
			<if test="bean.attribute06 != null and bean.attribute06 != ''">
				and t1.ATTRIBUTE_06 like concat(concat('%',#{bean.attribute06}),'%') 
			</if>
			<if test="bean.attribute07 != null and bean.attribute07 != ''">
				and t1.ATTRIBUTE_07 like concat(concat('%',#{bean.attribute07}),'%') 
			</if>
			<if test="bean.attribute08 != null and bean.attribute08 != ''">
				and t1.ATTRIBUTE_08 like concat(concat('%',#{bean.attribute08}),'%') 
			</if>
			<if test="bean.attribute09 != null and bean.attribute09 != ''">
				and t1.ATTRIBUTE_09 like concat(concat('%',#{bean.attribute09}),'%') 
			</if>
			<if test="bean.attribute10 != null and bean.attribute10 != ''">
				and t1.ATTRIBUTE_10 like concat(concat('%',#{bean.attribute10}),'%') 
			</if>
			<if test="bean.attribute11 != null ">
				and t1.ATTRIBUTE_11 like concat(concat('%',#{bean.attribute11}),'%') 
			</if>
			<if test="bean.attribute12 != null ">
				and t1.ATTRIBUTE_12 like concat(concat('%',#{bean.attribute12}),'%') 
			</if>
			<if test="bean.attribute13 != null ">
				and t1.ATTRIBUTE_13 like concat(concat('%',#{bean.attribute13}),'%') 
			</if>
			<if test="bean.attribute14 != null ">
				and t1.ATTRIBUTE_14 like concat(concat('%',#{bean.attribute14}),'%') 
			</if>
			<if test="bean.attribute15 != null ">
				and t1.ATTRIBUTE_15 like concat(concat('%',#{bean.attribute15}),'%') 
			</if>
			<if test="bean.attribute16 != null ">
				and t1.ATTRIBUTE_16 like concat(concat('%',#{bean.attribute16}),'%') 
			</if>
			<if test="bean.attribute17 != null and bean.attribute17 != ''">
				and t1.ATTRIBUTE_17 like concat(concat('%',#{bean.attribute17}),'%') 
			</if>
			<if test="bean.attribute18 != null and bean.attribute18 != ''">
				and t1.ATTRIBUTE_18 like concat(concat('%',#{bean.attribute18}),'%') 
			</if>
			<if test="bean.attribute19 != null and bean.attribute19 != ''">
				and t1.ATTRIBUTE_19 like concat(concat('%',#{bean.attribute19}),'%') 
			</if>
			<if test="bean.attribute20 != null and bean.attribute20 != ''">
				and t1.ATTRIBUTE_20 like concat(concat('%',#{bean.attribute20}),'%') 
			</if>
			<if test="bean.procedureFileId != null and bean.procedureFileId != ''">
				and t1.PROCEDURE_FILE_ID like concat(concat('%',#{bean.procedureFileId}),'%') 
			</if>
			<if test="bean.meteringOrigin != null and bean.meteringOrigin != ''">
				and t1.METERING_ORIGIN like concat(concat('%',#{bean.meteringOrigin}),'%') 
			</if>
			<if test="bean.isDeliveryAllowed != null and bean.isDeliveryAllowed != ''">
				and t1.IS_DELIVERY_ALLOWED like concat(concat('%',#{bean.isDeliveryAllowed}),'%') 
			</if>
			<if test="bean.formCheckConclude != null and bean.formCheckConclude != ''">
				and t1.FORM_CHECK_CONCLUDE like concat(concat('%',#{bean.formCheckConclude}),'%') 
			</if>
			<if test="bean.managerConclude != null and bean.managerConclude != ''">
				and t1.MANAGER_CONCLUDE like concat(concat('%',#{bean.managerConclude}),'%') 
			</if>
						<if test="bean.bpmType !=null and bean.bpmType !='' and bean.bpmType == 'my'">
				 and exists (select 1 from BPM_CLIENT_HIST_TASK_V os where os.task_b_id_ = t1.id and os.assignee_ = #{bean.currUserId}) 
			</if>
			<if test="bean.bpmState != null and bean.bpmState !='' and bean.bpmState != 'all'">
				and v.businessstate_ = #{bean.bpmState}
			</if>
</if>
		</where>
		<choose>
			<when test="pOrderBy != null and pOrderBy != ''">
				order by ${pOrderBy}			
			</when>
			<otherwise>
				order by t1.creation_date desc
			</otherwise>
		</choose>
</select>
<!-- 分页查询 OrASSETS_DEVICE_METERING -->
<select id="searchAssetsDeviceMeteringByPageOr" parameterType="java.util.Map" resultMap="AssetsDeviceMeteringDTOMap">
	select
		v.activityalias_                 ,
		v.businessstate_                 ,
		t1.id                             ,
		t1.created_by                     ,
		t1.creation_date                  ,
		t1.last_updated_by                ,
		t1.last_update_date               ,
		t1.last_update_ip                 ,
		t1.version                        ,
		t1.proc_id						  ,
		t1.applicant_id                   ,
		t1.applicant_depart               ,
		t1.owner_id                       ,
		t1.owner_dept                     ,
		t1.senddevice_pid                 ,
		t1.senddevice_dept                ,
		t1.takedevice_pid                 ,
		t1.takedevice_dept                ,
		t1.delivery_pid                   ,
		t1.delivery_dept                  ,
		t1.form_state                     ,
		t1.unified_id                     ,
		t1.device_name                    ,
		t1.device_category                ,
		t1.device_spec                    ,
		t1.device_model                   ,
		t1.secret_level                   ,
		t1.position_id                    ,
		t1.manufacturer                   ,
		t1.is_metering                    ,
		t1.meter_mode                     ,
		t1.meter_finish_date              ,
		t1.meter_cycle                    ,
		t1.last_metering_date             ,
		t1.meter_person                   ,
		t1.meter_plan_person              ,
		t1.meter_takeaway_person          ,
		t1.meter_conclusion               ,
		t1.is_derive_oft                  ,
		t1.express_number                 ,
		t1.delivery_date                  ,
		t1.attribute_01                   ,
		t1.attribute_02                   ,
		t1.attribute_03                   ,
		t1.attribute_04                   ,
		t1.attribute_05                   ,
		t1.attribute_06                   ,
		t1.attribute_07                   ,
		t1.attribute_08                   ,
		t1.attribute_09                   ,
		t1.attribute_10                   ,
		t1.attribute_11                   ,
		t1.attribute_12                   ,
		t1.attribute_13                   ,
		t1.attribute_14                   ,
		t1.attribute_15                   ,
		t1.attribute_16                   ,
		t1.attribute_17                   ,
		t1.attribute_18                   ,
		t1.attribute_19                   ,
		t1.attribute_20                   ,
		t1.procedure_file_id              ,
		t1.metering_origin                ,
		t1.is_delivery_allowed            ,
		t1.form_check_conclude            ,
		t1.manager_conclude               
	from assets_device_metering  t1 left join bpm_client_hist_procinst_v v on t1.id = v.formid_ 
		<where>
			<if test="bean != null">
			<trim prefix="(" suffix=")" prefixOverrides="or">
			<if test="bean.id != null and bean.id != ''">
				or t1.ID =#{bean.id}
			</if>
			<if test="bean.createdBy != null and bean.createdBy != ''">
				or t1.CREATED_BY like concat(concat('%',#{bean.createdBy}),'%')  
			</if>
			<if test="bean.creationDate != null and bean.creationDate != ''">
				or t1.CREATION_DATE like concat(concat('%',#{bean.creationDate}),'%')  
			</if>
			<if test="bean.lastUpdatedBy != null and bean.lastUpdatedBy != ''">
				or t1.LAST_UPDATED_BY like concat(concat('%',#{bean.lastUpdatedBy}),'%')  
			</if>
			<if test="bean.lastUpdateDate != null and bean.lastUpdateDate != ''">
				or t1.LAST_UPDATE_DATE like concat(concat('%',#{bean.lastUpdateDate}),'%')  
			</if>
			<if test="bean.lastUpdateIp != null and bean.lastUpdateIp != ''">
				or t1.LAST_UPDATE_IP like concat(concat('%',#{bean.lastUpdateIp}),'%')  
			</if>
			<if test="bean.version != null">
				or t1.VERSION like concat(concat('%',#{bean.version}),'%')  
			</if>
			<if test="bean.procId != null and bean.procId != ''">
				or t1.PROC_ID like concat(concat('%',#{bean.procId}),'%')
			</if>
			<if test="bean.applicantId != null and bean.applicantId != ''">
				or t1.APPLICANT_ID like concat(concat('%',#{bean.applicantId}),'%')  
			</if>
			<if test="bean.applicantDepart != null and bean.applicantDepart != ''">
				or t1.APPLICANT_DEPART like concat(concat('%',#{bean.applicantDepart}),'%')  
			</if>
			<if test="bean.ownerId != null and bean.ownerId != ''">
				or t1.OWNER_ID like concat(concat('%',#{bean.ownerId}),'%')  
			</if>
			<if test="bean.ownerDept != null and bean.ownerDept != ''">
				or t1.OWNER_DEPT like concat(concat('%',#{bean.ownerDept}),'%')  
			</if>
			<if test="bean.senddevicePid != null and bean.senddevicePid != ''">
				or t1.SENDDEVICE_PID like concat(concat('%',#{bean.senddevicePid}),'%')  
			</if>
			<if test="bean.senddeviceDept != null and bean.senddeviceDept != ''">
				or t1.SENDDEVICE_DEPT like concat(concat('%',#{bean.senddeviceDept}),'%')  
			</if>
			<if test="bean.takedevicePid != null and bean.takedevicePid != ''">
				or t1.TAKEDEVICE_PID like concat(concat('%',#{bean.takedevicePid}),'%')  
			</if>
			<if test="bean.takedeviceDept != null and bean.takedeviceDept != ''">
				or t1.TAKEDEVICE_DEPT like concat(concat('%',#{bean.takedeviceDept}),'%')  
			</if>
			<if test="bean.deliveryPid != null and bean.deliveryPid != ''">
				or t1.DELIVERY_PID like concat(concat('%',#{bean.deliveryPid}),'%')  
			</if>
			<if test="bean.deliveryDept != null and bean.deliveryDept != ''">
				or t1.DELIVERY_DEPT like concat(concat('%',#{bean.deliveryDept}),'%')  
			</if>
			<if test="bean.formState != null and bean.formState != ''">
				or t1.FORM_STATE like concat(concat('%',#{bean.formState}),'%')  
			</if>
			<if test="bean.unifiedId != null and bean.unifiedId != ''">
				or t1.UNIFIED_ID like concat(concat('%',#{bean.unifiedId}),'%')  
			</if>
			<if test="bean.deviceName != null and bean.deviceName != ''">
				or t1.DEVICE_NAME like concat(concat('%',#{bean.deviceName}),'%')  
			</if>
			<if test="bean.deviceCategory != null and bean.deviceCategory != ''">
				or t1.DEVICE_CATEGORY like concat(concat('%',#{bean.deviceCategory}),'%')  
			</if>
			<if test="bean.deviceSpec != null and bean.deviceSpec != ''">
				or t1.DEVICE_SPEC like concat(concat('%',#{bean.deviceSpec}),'%')  
			</if>
			<if test="bean.deviceModel != null and bean.deviceModel != ''">
				or t1.DEVICE_MODEL like concat(concat('%',#{bean.deviceModel}),'%')  
			</if>
			<if test="bean.secretLevel != null and bean.secretLevel != ''">
				or t1.SECRET_LEVEL like concat(concat('%',#{bean.secretLevel}),'%')  
			</if>
			<if test="bean.positionId != null and bean.positionId != ''">
				or t1.POSITION_ID like concat(concat('%',#{bean.positionId}),'%')  
			</if>
			<if test="bean.manufacturer != null and bean.manufacturer != ''">
				or t1.MANUFACTURER like concat(concat('%',#{bean.manufacturer}),'%')  
			</if>
			<if test="bean.isMetering != null and bean.isMetering != ''">
				or t1.IS_METERING like concat(concat('%',#{bean.isMetering}),'%')  
			</if>
			<if test="bean.meterMode != null and bean.meterMode != ''">
				or t1.METER_MODE like concat(concat('%',#{bean.meterMode}),'%')  
			</if>
			<if test="bean.meterFinishDateBegin != null and bean.meterFinishDateBegin != ''">
				or t1.METER_FINISH_DATE &gt;= #{bean.meterFinishDateBegin}
			</if>
			<if test="bean.meterFinishDateEnd != null and bean.meterFinishDateEnd != ''">
				or t1.METER_FINISH_DATE &lt;= #{bean.meterFinishDateEnd}
			</if>
			<if test="bean.meterCycle != null">
				or t1.METER_CYCLE like concat(concat('%',#{bean.meterCycle}),'%')  
			</if>
			<if test="bean.lastMeteringDateBegin != null and bean.lastMeteringDateBegin != ''">
				or t1.LAST_METERING_DATE &gt;= #{bean.lastMeteringDateBegin}
			</if>
			<if test="bean.lastMeteringDateEnd != null and bean.lastMeteringDateEnd != ''">
				or t1.LAST_METERING_DATE &lt;= #{bean.lastMeteringDateEnd}
			</if>
			<if test="bean.meterPerson != null and bean.meterPerson != ''">
				or t1.METER_PERSON like concat(concat('%',#{bean.meterPerson}),'%')  
			</if>
			<if test="bean.meterPlanPerson != null and bean.meterPlanPerson != ''">
				or t1.METER_PLAN_PERSON like concat(concat('%',#{bean.meterPlanPerson}),'%')  
			</if>
			<if test="bean.meterTakeawayPerson != null and bean.meterTakeawayPerson != ''">
				or t1.METER_TAKEAWAY_PERSON like concat(concat('%',#{bean.meterTakeawayPerson}),'%')  
			</if>
			<if test="bean.meterConclusion != null and bean.meterConclusion != ''">
				or t1.METER_CONCLUSION like concat(concat('%',#{bean.meterConclusion}),'%')  
			</if>
			<if test="bean.isDeriveOft != null and bean.isDeriveOft != ''">
				or t1.IS_DERIVE_OFT like concat(concat('%',#{bean.isDeriveOft}),'%')  
			</if>
			<if test="bean.expressNumber != null and bean.expressNumber != ''">
				or t1.EXPRESS_NUMBER like concat(concat('%',#{bean.expressNumber}),'%')  
			</if>
			<if test="bean.deliveryDateBegin != null and bean.deliveryDateBegin != ''">
				or t1.DELIVERY_DATE &gt;= #{bean.deliveryDateBegin}
			</if>
			<if test="bean.deliveryDateEnd != null and bean.deliveryDateEnd != ''">
				or t1.DELIVERY_DATE &lt;= #{bean.deliveryDateEnd}
			</if>
			<if test="bean.attribute01 != null and bean.attribute01 != ''">
				or t1.ATTRIBUTE_01 like concat(concat('%',#{bean.attribute01}),'%')  
			</if>
			<if test="bean.attribute02 != null and bean.attribute02 != ''">
				or t1.ATTRIBUTE_02 like concat(concat('%',#{bean.attribute02}),'%')  
			</if>
			<if test="bean.attribute03 != null and bean.attribute03 != ''">
				or t1.ATTRIBUTE_03 like concat(concat('%',#{bean.attribute03}),'%')  
			</if>
			<if test="bean.attribute04 != null and bean.attribute04 != ''">
				or t1.ATTRIBUTE_04 like concat(concat('%',#{bean.attribute04}),'%')  
			</if>
			<if test="bean.attribute05 != null and bean.attribute05 != ''">
				or t1.ATTRIBUTE_05 like concat(concat('%',#{bean.attribute05}),'%')  
			</if>
			<if test="bean.attribute06 != null and bean.attribute06 != ''">
				or t1.ATTRIBUTE_06 like concat(concat('%',#{bean.attribute06}),'%')  
			</if>
			<if test="bean.attribute07 != null and bean.attribute07 != ''">
				or t1.ATTRIBUTE_07 like concat(concat('%',#{bean.attribute07}),'%')  
			</if>
			<if test="bean.attribute08 != null and bean.attribute08 != ''">
				or t1.ATTRIBUTE_08 like concat(concat('%',#{bean.attribute08}),'%')  
			</if>
			<if test="bean.attribute09 != null and bean.attribute09 != ''">
				or t1.ATTRIBUTE_09 like concat(concat('%',#{bean.attribute09}),'%')  
			</if>
			<if test="bean.attribute10 != null and bean.attribute10 != ''">
				or t1.ATTRIBUTE_10 like concat(concat('%',#{bean.attribute10}),'%')  
			</if>
			<if test="bean.attribute11 != null">
				or t1.ATTRIBUTE_11 like concat(concat('%',#{bean.attribute11}),'%')  
			</if>
			<if test="bean.attribute12 != null">
				or t1.ATTRIBUTE_12 like concat(concat('%',#{bean.attribute12}),'%')  
			</if>
			<if test="bean.attribute13 != null">
				or t1.ATTRIBUTE_13 like concat(concat('%',#{bean.attribute13}),'%')  
			</if>
			<if test="bean.attribute14 != null">
				or t1.ATTRIBUTE_14 like concat(concat('%',#{bean.attribute14}),'%')  
			</if>
			<if test="bean.attribute15 != null">
				or t1.ATTRIBUTE_15 like concat(concat('%',#{bean.attribute15}),'%')  
			</if>
			<if test="bean.attribute16 != null">
				or t1.ATTRIBUTE_16 like concat(concat('%',#{bean.attribute16}),'%')  
			</if>
			<if test="bean.attribute17 != null and bean.attribute17 != ''">
				or t1.ATTRIBUTE_17 like concat(concat('%',#{bean.attribute17}),'%')  
			</if>
			<if test="bean.attribute18 != null and bean.attribute18 != ''">
				or t1.ATTRIBUTE_18 like concat(concat('%',#{bean.attribute18}),'%')  
			</if>
			<if test="bean.attribute19 != null and bean.attribute19 != ''">
				or t1.ATTRIBUTE_19 like concat(concat('%',#{bean.attribute19}),'%')  
			</if>
			<if test="bean.attribute20 != null and bean.attribute20 != ''">
				or t1.ATTRIBUTE_20 like concat(concat('%',#{bean.attribute20}),'%')  
			</if>
			<if test="bean.procedureFileId != null and bean.procedureFileId != ''">
				or t1.PROCEDURE_FILE_ID like concat(concat('%',#{bean.procedureFileId}),'%')  
			</if>
			<if test="bean.meteringOrigin != null and bean.meteringOrigin != ''">
				or t1.METERING_ORIGIN like concat(concat('%',#{bean.meteringOrigin}),'%')  
			</if>
			<if test="bean.isDeliveryAllowed != null and bean.isDeliveryAllowed != ''">
				or t1.IS_DELIVERY_ALLOWED like concat(concat('%',#{bean.isDeliveryAllowed}),'%')  
			</if>
			<if test="bean.formCheckConclude != null and bean.formCheckConclude != ''">
				or t1.FORM_CHECK_CONCLUDE like concat(concat('%',#{bean.formCheckConclude}),'%')  
			</if>
			<if test="bean.managerConclude != null and bean.managerConclude != ''">
				or t1.MANAGER_CONCLUDE like concat(concat('%',#{bean.managerConclude}),'%')  
			</if>
			</trim>
			<if test="bean.bpmType !=null and bean.bpmType !='' and bean.bpmType == 'my'">
				 and exists (select 1 from BPM_CLIENT_HIST_TASK_V os where os.task_b_id_ = t1.id and os.assignee_ = #{bean.currUserId}) 
			</if>
			<if test="bean.bpmState != null and bean.bpmState !='' and bean.bpmState != 'all'">
				and v.businessstate_ = #{bean.bpmState}
			</if>
			</if>
		</where>
		<choose>
			<when test="pOrderBy != null and pOrderBy != ''">
				order by ${pOrderBy}			
			</when>
			<otherwise>
				order by t1.creation_date desc
			</otherwise>
		</choose>
</select>
<!-- 查询列表 ASSETS_DEVICE_METERING -->
<select id="searchAssetsDeviceMetering" parameterType="java.util.Map" resultMap="AssetsDeviceMeteringDTOMap">
	select
		v.activityalias_                 ,
		v.businessstate_                 ,
		t1.id                             ,
		t1.created_by                     ,
		t1.creation_date                  ,
		t1.last_updated_by                ,
		t1.last_update_date               ,
		t1.last_update_ip                 ,
		t1.version                        ,
		t1.proc_id						  ,
		t1.applicant_id                   ,
		t1.applicant_depart               ,
		t1.owner_id                       ,
		t1.owner_dept                     ,
		t1.senddevice_pid                 ,
		t1.senddevice_dept                ,
		t1.takedevice_pid                 ,
		t1.takedevice_dept                ,
		t1.delivery_pid                   ,
		t1.delivery_dept                  ,
		t1.form_state                     ,
		t1.unified_id                     ,
		t1.device_name                    ,
		t1.device_category                ,
		t1.device_spec                    ,
		t1.device_model                   ,
		t1.secret_level                   ,
		t1.position_id                    ,
		t1.manufacturer                   ,
		t1.is_metering                    ,
		t1.meter_mode                     ,
		t1.meter_finish_date              ,
		t1.meter_cycle                    ,
		t1.last_metering_date             ,
		t1.meter_person                   ,
		t1.meter_plan_person              ,
		t1.meter_takeaway_person          ,
		t1.meter_conclusion               ,
		t1.is_derive_oft                  ,
		t1.express_number                 ,
		t1.delivery_date                  ,
		t1.attribute_01                   ,
		t1.attribute_02                   ,
		t1.attribute_03                   ,
		t1.attribute_04                   ,
		t1.attribute_05                   ,
		t1.attribute_06                   ,
		t1.attribute_07                   ,
		t1.attribute_08                   ,
		t1.attribute_09                   ,
		t1.attribute_10                   ,
		t1.attribute_11                   ,
		t1.attribute_12                   ,
		t1.attribute_13                   ,
		t1.attribute_14                   ,
		t1.attribute_15                   ,
		t1.attribute_16                   ,
		t1.attribute_17                   ,
		t1.attribute_18                   ,
		t1.attribute_19                   ,
		t1.attribute_20                   ,
		t1.procedure_file_id              ,
		t1.metering_origin                ,
		t1.is_delivery_allowed            ,
		t1.form_check_conclude            ,
		t1.manager_conclude               
	from assets_device_metering 	t1 left join bpm_client_hist_procinst_v v on t1.id = v.formid_ 
		<where>
			<if test="id != null and id != ''">
				and t1.ID =#{id}
			</if>
			<if test="createdBy != null and createdBy != ''">
				and t1.CREATED_BY =#{createdBy}
			</if>
			<if test="creationDate != null and creationDate != ''">
				and t1.CREATION_DATE =#{creationDate}
			</if>
			<if test="lastUpdatedBy != null and lastUpdatedBy != ''">
				and t1.LAST_UPDATED_BY =#{lastUpdatedBy}
			</if>
			<if test="lastUpdateDate != null and lastUpdateDate != ''">
				and t1.LAST_UPDATE_DATE =#{lastUpdateDate}
			</if>
			<if test="lastUpdateIp != null and lastUpdateIp != ''">
				and t1.LAST_UPDATE_IP =#{lastUpdateIp}
			</if>
			<if test="version != null">
				and t1.VERSION =#{version}
			</if>
			<if test="bean.procId != null and bean.procId != ''">
				and t1.PROC_ID like concat(concat('%',#{bean.procId}),'%')
			</if>
			<if test="applicantId != null and applicantId != ''">
				and t1.APPLICANT_ID =#{applicantId}
			</if>
			<if test="applicantDepart != null and applicantDepart != ''">
				and t1.APPLICANT_DEPART =#{applicantDepart}
			</if>
			<if test="ownerId != null and ownerId != ''">
				and t1.OWNER_ID =#{ownerId}
			</if>
			<if test="ownerDept != null and ownerDept != ''">
				and t1.OWNER_DEPT =#{ownerDept}
			</if>
			<if test="senddevicePid != null and senddevicePid != ''">
				and t1.SENDDEVICE_PID =#{senddevicePid}
			</if>
			<if test="senddeviceDept != null and senddeviceDept != ''">
				and t1.SENDDEVICE_DEPT =#{senddeviceDept}
			</if>
			<if test="takedevicePid != null and takedevicePid != ''">
				and t1.TAKEDEVICE_PID =#{takedevicePid}
			</if>
			<if test="takedeviceDept != null and takedeviceDept != ''">
				and t1.TAKEDEVICE_DEPT =#{takedeviceDept}
			</if>
			<if test="deliveryPid != null and deliveryPid != ''">
				and t1.DELIVERY_PID =#{deliveryPid}
			</if>
			<if test="deliveryDept != null and deliveryDept != ''">
				and t1.DELIVERY_DEPT =#{deliveryDept}
			</if>
			<if test="formState != null and formState != ''">
				and t1.FORM_STATE =#{formState}
			</if>
			<if test="unifiedId != null and unifiedId != ''">
				and t1.UNIFIED_ID =#{unifiedId}
			</if>
			<if test="deviceName != null and deviceName != ''">
				and t1.DEVICE_NAME =#{deviceName}
			</if>
			<if test="deviceCategory != null and deviceCategory != ''">
				and t1.DEVICE_CATEGORY =#{deviceCategory}
			</if>
			<if test="deviceSpec != null and deviceSpec != ''">
				and t1.DEVICE_SPEC =#{deviceSpec}
			</if>
			<if test="deviceModel != null and deviceModel != ''">
				and t1.DEVICE_MODEL =#{deviceModel}
			</if>
			<if test="secretLevel != null and secretLevel != ''">
				and t1.SECRET_LEVEL =#{secretLevel}
			</if>
			<if test="positionId != null and positionId != ''">
				and t1.POSITION_ID =#{positionId}
			</if>
			<if test="manufacturer != null and manufacturer != ''">
				and t1.MANUFACTURER =#{manufacturer}
			</if>
			<if test="isMetering != null and isMetering != ''">
				and t1.IS_METERING =#{isMetering}
			</if>
			<if test="meterMode != null and meterMode != ''">
				and t1.METER_MODE =#{meterMode}
			</if>
			<if test="meterFinishDateBegin != null and meterFinishDateBegin != ''">
				and t1.METER_FINISH_DATE &gt;= #{meterFinishDateBegin}
			</if>
			<if test="meterFinishDateEnd != null and meterFinishDateEnd != ''">
				and t1.METER_FINISH_DATE &lt;= #{meterFinishDateEnd}
			</if>
			<if test="meterCycle != null">
				and t1.METER_CYCLE =#{meterCycle}
			</if>
			<if test="lastMeteringDateBegin != null and lastMeteringDateBegin != ''">
				and t1.LAST_METERING_DATE &gt;= #{lastMeteringDateBegin}
			</if>
			<if test="lastMeteringDateEnd != null and lastMeteringDateEnd != ''">
				and t1.LAST_METERING_DATE &lt;= #{lastMeteringDateEnd}
			</if>
			<if test="meterPerson != null and meterPerson != ''">
				and t1.METER_PERSON =#{meterPerson}
			</if>
			<if test="meterPlanPerson != null and meterPlanPerson != ''">
				and t1.METER_PLAN_PERSON =#{meterPlanPerson}
			</if>
			<if test="meterTakeawayPerson != null and meterTakeawayPerson != ''">
				and t1.METER_TAKEAWAY_PERSON =#{meterTakeawayPerson}
			</if>
			<if test="meterConclusion != null and meterConclusion != ''">
				and t1.METER_CONCLUSION =#{meterConclusion}
			</if>
			<if test="isDeriveOft != null and isDeriveOft != ''">
				and t1.IS_DERIVE_OFT =#{isDeriveOft}
			</if>
			<if test="expressNumber != null and expressNumber != ''">
				and t1.EXPRESS_NUMBER =#{expressNumber}
			</if>
			<if test="deliveryDateBegin != null and deliveryDateBegin != ''">
				and t1.DELIVERY_DATE &gt;= #{deliveryDateBegin}
			</if>
			<if test="deliveryDateEnd != null and deliveryDateEnd != ''">
				and t1.DELIVERY_DATE &lt;= #{deliveryDateEnd}
			</if>
			<if test="attribute01 != null and attribute01 != ''">
				and t1.ATTRIBUTE_01 =#{attribute01}
			</if>
			<if test="attribute02 != null and attribute02 != ''">
				and t1.ATTRIBUTE_02 =#{attribute02}
			</if>
			<if test="attribute03 != null and attribute03 != ''">
				and t1.ATTRIBUTE_03 =#{attribute03}
			</if>
			<if test="attribute04 != null and attribute04 != ''">
				and t1.ATTRIBUTE_04 =#{attribute04}
			</if>
			<if test="attribute05 != null and attribute05 != ''">
				and t1.ATTRIBUTE_05 =#{attribute05}
			</if>
			<if test="attribute06 != null and attribute06 != ''">
				and t1.ATTRIBUTE_06 =#{attribute06}
			</if>
			<if test="attribute07 != null and attribute07 != ''">
				and t1.ATTRIBUTE_07 =#{attribute07}
			</if>
			<if test="attribute08 != null and attribute08 != ''">
				and t1.ATTRIBUTE_08 =#{attribute08}
			</if>
			<if test="attribute09 != null and attribute09 != ''">
				and t1.ATTRIBUTE_09 =#{attribute09}
			</if>
			<if test="attribute10 != null and attribute10 != ''">
				and t1.ATTRIBUTE_10 =#{attribute10}
			</if>
			<if test="attribute11 != null">
				and t1.ATTRIBUTE_11 =#{attribute11}
			</if>
			<if test="attribute12 != null">
				and t1.ATTRIBUTE_12 =#{attribute12}
			</if>
			<if test="attribute13 != null">
				and t1.ATTRIBUTE_13 =#{attribute13}
			</if>
			<if test="attribute14 != null">
				and t1.ATTRIBUTE_14 =#{attribute14}
			</if>
			<if test="attribute15 != null">
				and t1.ATTRIBUTE_15 =#{attribute15}
			</if>
			<if test="attribute16 != null">
				and t1.ATTRIBUTE_16 =#{attribute16}
			</if>
			<if test="attribute17 != null and attribute17 != ''">
				and t1.ATTRIBUTE_17 =#{attribute17}
			</if>
			<if test="attribute18 != null and attribute18 != ''">
				and t1.ATTRIBUTE_18 =#{attribute18}
			</if>
			<if test="attribute19 != null and attribute19 != ''">
				and t1.ATTRIBUTE_19 =#{attribute19}
			</if>
			<if test="attribute20 != null and attribute20 != ''">
				and t1.ATTRIBUTE_20 =#{attribute20}
			</if>
			<if test="procedureFileId != null and procedureFileId != ''">
				and t1.PROCEDURE_FILE_ID =#{procedureFileId}
			</if>
			<if test="meteringOrigin != null and meteringOrigin != ''">
				and t1.METERING_ORIGIN =#{meteringOrigin}
			</if>
			<if test="isDeliveryAllowed != null and isDeliveryAllowed != ''">
				and t1.IS_DELIVERY_ALLOWED =#{isDeliveryAllowed}
			</if>
			<if test="formCheckConclude != null and formCheckConclude != ''">
				and t1.FORM_CHECK_CONCLUDE =#{formCheckConclude}
			</if>
			<if test="managerConclude != null and managerConclude != ''">
				and t1.MANAGER_CONCLUDE =#{managerConclude}
			</if>
			<if test="bpmType !=null and bpmType !='' and bpmType == 'my'">
				 and exists (select 1 from BPM_CLIENT_HIST_TASK_V os where os.task_b_id_ = t1.id and os.assignee_ = #{currUserId}) 
			</if>
			<if test="bpmState != null and bpmState !='' and bpmState != 'all'">
				and v.businessstate_ = #{bpmState}
			</if>
		</where>
</select>
<!-- 主键查询对象 ASSETS_DEVICE_METERING -->
<select id="findAssetsDeviceMeteringById" parameterType="java.util.Map" resultMap="AssetsDeviceMeteringDTOMap">
	select
		t1.id                             ,
		t1.created_by                     ,
		t1.creation_date                  ,
		t1.last_updated_by                ,
		t1.last_update_date               ,
		t1.last_update_ip                 ,
		t1.version                        ,
		t1.proc_id						  ,
		t1.applicant_id                   ,
		t1.applicant_depart               ,
		t1.owner_id                       ,
		t1.owner_dept                     ,
		t1.senddevice_pid                 ,
		t1.senddevice_dept                ,
		t1.takedevice_pid                 ,
		t1.takedevice_dept                ,
		t1.delivery_pid                   ,
		t1.delivery_dept                  ,
		t1.form_state                     ,
		t1.unified_id                     ,
		t1.device_name                    ,
		t1.device_category                ,
		t1.device_spec                    ,
		t1.device_model                   ,
		t1.secret_level                   ,
		t1.position_id                    ,
		t1.manufacturer                   ,
		t1.is_metering                    ,
		t1.meter_mode                     ,
		t1.meter_finish_date              ,
		t1.meter_cycle                    ,
		t1.last_metering_date             ,
		t1.meter_person                   ,
		t1.meter_plan_person              ,
		t1.meter_takeaway_person          ,
		t1.meter_conclusion               ,
		t1.is_derive_oft                  ,
		t1.express_number                 ,
		t1.delivery_date                  ,
		t1.attribute_01                   ,
		t1.attribute_02                   ,
		t1.attribute_03                   ,
		t1.attribute_04                   ,
		t1.attribute_05                   ,
		t1.attribute_06                   ,
		t1.attribute_07                   ,
		t1.attribute_08                   ,
		t1.attribute_09                   ,
		t1.attribute_10                   ,
		t1.attribute_11                   ,
		t1.attribute_12                   ,
		t1.attribute_13                   ,
		t1.attribute_14                   ,
		t1.attribute_15                   ,
		t1.attribute_16                   ,
		t1.attribute_17                   ,
		t1.attribute_18                   ,
		t1.attribute_19                   ,
		t1.attribute_20                   ,
		t1.procedure_file_id              ,
		t1.metering_origin                ,
		t1.is_delivery_allowed            ,
		t1.form_check_conclude            ,
		t1.manager_conclude               
	from assets_device_metering 	t1
		where t1.id = #{id}
</select>
<!-- 新增对象 ASSETS_DEVICE_METERING -->
<insert id="insertAssetsDeviceMetering" parameterType="avicit.assets.device.assetsdevicemetering.dto.AssetsDeviceMeteringDTO">
	insert into assets_device_metering
	<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				id,
			</if>
			<if test="createdBy != null">
				created_by,
			</if>
			<if test="creationDate != null">
				creation_date,
			</if>
			<if test="lastUpdatedBy != null">
				last_updated_by,
			</if>
			<if test="lastUpdateDate != null">
				last_update_date,
			</if>
			<if test="lastUpdateIp != null">
				last_update_ip,
			</if>
			<if test="version != null">
				version,
			</if>
			<if test="procId != null">
				proc_id,
			</if>
			<if test="applicantId != null">
				applicant_id,
			</if>
			<if test="applicantDepart != null">
				applicant_depart,
			</if>
			<if test="ownerId != null">
				owner_id,
			</if>
			<if test="ownerDept != null">
				owner_dept,
			</if>
			<if test="senddevicePid != null">
				senddevice_pid,
			</if>
			<if test="senddeviceDept != null">
				senddevice_dept,
			</if>
			<if test="takedevicePid != null">
				takedevice_pid,
			</if>
			<if test="takedeviceDept != null">
				takedevice_dept,
			</if>
			<if test="deliveryPid != null">
				delivery_pid,
			</if>
			<if test="deliveryDept != null">
				delivery_dept,
			</if>
			<if test="formState != null">
				form_state,
			</if>
			<if test="unifiedId != null">
				unified_id,
			</if>
			<if test="deviceName != null">
				device_name,
			</if>
			<if test="deviceCategory != null">
				device_category,
			</if>
			<if test="deviceSpec != null">
				device_spec,
			</if>
			<if test="deviceModel != null">
				device_model,
			</if>
			<if test="secretLevel != null">
				secret_level,
			</if>
			<if test="positionId != null">
				position_id,
			</if>
			<if test="manufacturer != null">
				manufacturer,
			</if>
			<if test="isMetering != null">
				is_metering,
			</if>
			<if test="meterMode != null">
				meter_mode,
			</if>
			<if test="meterFinishDate != null">
				meter_finish_date,
			</if>
			<if test="meterCycle != null">
				meter_cycle,
			</if>
			<if test="lastMeteringDate != null">
				last_metering_date,
			</if>
			<if test="meterPerson != null">
				meter_person,
			</if>
			<if test="meterPlanPerson != null">
				meter_plan_person,
			</if>
			<if test="meterTakeawayPerson != null">
				meter_takeaway_person,
			</if>
			<if test="meterConclusion != null">
				meter_conclusion,
			</if>
			<if test="isDeriveOft != null">
				is_derive_oft,
			</if>
			<if test="expressNumber != null">
				express_number,
			</if>
			<if test="deliveryDate != null">
				delivery_date,
			</if>
			<if test="attribute01 != null">
				attribute_01,
			</if>
			<if test="attribute02 != null">
				attribute_02,
			</if>
			<if test="attribute03 != null">
				attribute_03,
			</if>
			<if test="attribute04 != null">
				attribute_04,
			</if>
			<if test="attribute05 != null">
				attribute_05,
			</if>
			<if test="attribute06 != null">
				attribute_06,
			</if>
			<if test="attribute07 != null">
				attribute_07,
			</if>
			<if test="attribute08 != null">
				attribute_08,
			</if>
			<if test="attribute09 != null">
				attribute_09,
			</if>
			<if test="attribute10 != null">
				attribute_10,
			</if>
			<if test="attribute11 != null">
				attribute_11,
			</if>
			<if test="attribute12 != null">
				attribute_12,
			</if>
			<if test="attribute13 != null">
				attribute_13,
			</if>
			<if test="attribute14 != null">
				attribute_14,
			</if>
			<if test="attribute15 != null">
				attribute_15,
			</if>
			<if test="attribute16 != null">
				attribute_16,
			</if>
			<if test="attribute17 != null">
				attribute_17,
			</if>
			<if test="attribute18 != null">
				attribute_18,
			</if>
			<if test="attribute19 != null">
				attribute_19,
			</if>
			<if test="attribute20 != null">
				attribute_20,
			</if>
			<if test="procedureFileId != null">
				procedure_file_id,
			</if>
			<if test="meteringOrigin != null">
				metering_origin,
			</if>
			<if test="isDeliveryAllowed != null">
				is_delivery_allowed,
			</if>
			<if test="formCheckConclude != null">
				form_check_conclude,
			</if>
			<if test="managerConclude != null">
				manager_conclude,
			</if>
	</trim>
	<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="createdBy != null">
				#{createdBy,jdbcType=VARCHAR},
			</if>
			<if test="creationDate != null">
				#{creationDate},
			</if>
			<if test="lastUpdatedBy != null">
				#{lastUpdatedBy,jdbcType=VARCHAR},
			</if>
			<if test="lastUpdateDate != null">
				#{lastUpdateDate},
			</if>
			<if test="lastUpdateIp != null">
				#{lastUpdateIp,jdbcType=VARCHAR},
			</if>
			<if test="version != null">
				#{version,jdbcType=DECIMAL},
			</if>
			<if test="applicantId != null">
				#{applicantId,jdbcType=VARCHAR},
			</if>
			<if test="applicantDepart != null">
				#{applicantDepart,jdbcType=VARCHAR},
			</if>
			<if test="ownerId != null">
				#{ownerId,jdbcType=VARCHAR},
			</if>
			<if test="ownerDept != null">
				#{ownerDept,jdbcType=VARCHAR},
			</if>
			<if test="senddevicePid != null">
				#{senddevicePid,jdbcType=VARCHAR},
			</if>
			<if test="senddeviceDept != null">
				#{senddeviceDept,jdbcType=VARCHAR},
			</if>
			<if test="takedevicePid != null">
				#{takedevicePid,jdbcType=VARCHAR},
			</if>
			<if test="takedeviceDept != null">
				#{takedeviceDept,jdbcType=VARCHAR},
			</if>
			<if test="deliveryPid != null">
				#{deliveryPid,jdbcType=VARCHAR},
			</if>
			<if test="deliveryDept != null">
				#{deliveryDept,jdbcType=VARCHAR},
			</if>
			<if test="formState != null">
				#{formState,jdbcType=VARCHAR},
			</if>
			<if test="unifiedId != null">
				#{unifiedId,jdbcType=VARCHAR},
			</if>
			<if test="deviceName != null">
				#{deviceName,jdbcType=VARCHAR},
			</if>
			<if test="deviceCategory != null">
				#{deviceCategory,jdbcType=VARCHAR},
			</if>
			<if test="deviceSpec != null">
				#{deviceSpec,jdbcType=VARCHAR},
			</if>
			<if test="deviceModel != null">
				#{deviceModel,jdbcType=VARCHAR},
			</if>
			<if test="secretLevel != null">
				#{secretLevel,jdbcType=VARCHAR},
			</if>
			<if test="positionId != null">
				#{positionId,jdbcType=VARCHAR},
			</if>
			<if test="manufacturer != null">
				#{manufacturer,jdbcType=VARCHAR},
			</if>
			<if test="isMetering != null">
				#{isMetering,jdbcType=VARCHAR},
			</if>
			<if test="meterMode != null">
				#{meterMode,jdbcType=VARCHAR},
			</if>
			<if test="meterFinishDate != null">
				#{meterFinishDate,jdbcType=DATE},
			</if>
			<if test="meterCycle != null">
				#{meterCycle,jdbcType=DECIMAL},
			</if>
			<if test="lastMeteringDate != null">
				#{lastMeteringDate,jdbcType=DATE},
			</if>
			<if test="meterPerson != null">
				#{meterPerson,jdbcType=VARCHAR},
			</if>
			<if test="meterPlanPerson != null">
				#{meterPlanPerson,jdbcType=VARCHAR},
			</if>
			<if test="meterTakeawayPerson != null">
				#{meterTakeawayPerson,jdbcType=VARCHAR},
			</if>
			<if test="meterConclusion != null">
				#{meterConclusion,jdbcType=VARCHAR},
			</if>
			<if test="isDeriveOft != null">
				#{isDeriveOft,jdbcType=VARCHAR},
			</if>
			<if test="expressNumber != null">
				#{expressNumber,jdbcType=VARCHAR},
			</if>
			<if test="deliveryDate != null">
				#{deliveryDate,jdbcType=DATE},
			</if>
			<if test="attribute01 != null">
				#{attribute01,jdbcType=VARCHAR},
			</if>
			<if test="attribute02 != null">
				#{attribute02,jdbcType=VARCHAR},
			</if>
			<if test="attribute03 != null">
				#{attribute03,jdbcType=VARCHAR},
			</if>
			<if test="attribute04 != null">
				#{attribute04,jdbcType=VARCHAR},
			</if>
			<if test="attribute05 != null">
				#{attribute05,jdbcType=VARCHAR},
			</if>
			<if test="attribute06 != null">
				#{attribute06,jdbcType=VARCHAR},
			</if>
			<if test="attribute07 != null">
				#{attribute07,jdbcType=VARCHAR},
			</if>
			<if test="attribute08 != null">
				#{attribute08,jdbcType=VARCHAR},
			</if>
			<if test="attribute09 != null">
				#{attribute09,jdbcType=VARCHAR},
			</if>
			<if test="attribute10 != null">
				#{attribute10,jdbcType=VARCHAR},
			</if>
			<if test="attribute11 != null">
				#{attribute11,jdbcType=DECIMAL},
			</if>
			<if test="attribute12 != null">
				#{attribute12,jdbcType=DECIMAL},
			</if>
			<if test="attribute13 != null">
				#{attribute13,jdbcType=DECIMAL},
			</if>
			<if test="attribute14 != null">
				#{attribute14,jdbcType=DECIMAL},
			</if>
			<if test="attribute15 != null">
				#{attribute15,jdbcType=DECIMAL},
			</if>
			<if test="attribute16 != null">
				#{attribute16,jdbcType=DECIMAL},
			</if>
			<if test="attribute17 != null">
				#{attribute17,jdbcType=DATE},
			</if>
			<if test="attribute18 != null">
				#{attribute18,jdbcType=DATE},
			</if>
			<if test="attribute19 != null">
				#{attribute19,jdbcType=DATE},
			</if>
			<if test="attribute20 != null">
				#{attribute20,jdbcType=DATE},
			</if>
			<if test="procedureFileId != null">
				#{procedureFileId,jdbcType=VARCHAR},
			</if>
			<if test="meteringOrigin != null">
				#{meteringOrigin,jdbcType=VARCHAR},
			</if>
			<if test="isDeliveryAllowed != null">
				#{isDeliveryAllowed,jdbcType=VARCHAR},
			</if>
			<if test="formCheckConclude != null">
				#{formCheckConclude,jdbcType=VARCHAR},
			</if>
			<if test="managerConclude != null">
				#{managerConclude,jdbcType=VARCHAR},
			</if>
	</trim>
</insert>
<!-- 批量新增对象 ASSETS_DEVICE_METERING -->
<insert id="insertAssetsDeviceMeteringList" parameterType="java.util.List">
	insert into assets_device_metering(
			id,
			created_by,
			creation_date,
			last_updated_by,
			last_update_date,
			last_update_ip,
			version,
			proc_id,
			applicant_id,
			applicant_depart,
			owner_id,
			owner_dept,
			senddevice_pid,
			senddevice_dept,
			takedevice_pid,
			takedevice_dept,
			delivery_pid,
			delivery_dept,
			form_state,
			unified_id,
			device_name,
			device_category,
			device_spec,
			device_model,
			secret_level,
			position_id,
			manufacturer,
			is_metering,
			meter_mode,
			meter_finish_date,
			meter_cycle,
			last_metering_date,
			meter_person,
			meter_plan_person,
			meter_takeaway_person,
			meter_conclusion,
			is_derive_oft,
			express_number,
			delivery_date,
			attribute_01,
			attribute_02,
			attribute_03,
			attribute_04,
			attribute_05,
			attribute_06,
			attribute_07,
			attribute_08,
			attribute_09,
			attribute_10,
			attribute_11,
			attribute_12,
			attribute_13,
			attribute_14,
			attribute_15,
			attribute_16,
			attribute_17,
			attribute_18,
			attribute_19,
			attribute_20,
			procedure_file_id,
			metering_origin,
			is_delivery_allowed,
			form_check_conclude,
			manager_conclude)
	<foreach collection="list" item="item" index="index" open="(" separator="union all" close=")">
		select 
					#{item.id,jdbcType=VARCHAR},
					#{item.createdBy,jdbcType=VARCHAR},
					#{item.creationDate},
					#{item.lastUpdatedBy,jdbcType=VARCHAR},
					#{item.lastUpdateDate},
					#{item.lastUpdateIp,jdbcType=VARCHAR},
					#{item.version,jdbcType=DECIMAL},
					#{item.procId,jdbcType=VARCHAR},
					#{item.applicantId,jdbcType=VARCHAR},
					#{item.applicantDepart,jdbcType=VARCHAR},
					#{item.ownerId,jdbcType=VARCHAR},
					#{item.ownerDept,jdbcType=VARCHAR},
					#{item.senddevicePid,jdbcType=VARCHAR},
					#{item.senddeviceDept,jdbcType=VARCHAR},
					#{item.takedevicePid,jdbcType=VARCHAR},
					#{item.takedeviceDept,jdbcType=VARCHAR},
					#{item.deliveryPid,jdbcType=VARCHAR},
					#{item.deliveryDept,jdbcType=VARCHAR},
					#{item.formState,jdbcType=VARCHAR},
					#{item.unifiedId,jdbcType=VARCHAR},
					#{item.deviceName,jdbcType=VARCHAR},
					#{item.deviceCategory,jdbcType=VARCHAR},
					#{item.deviceSpec,jdbcType=VARCHAR},
					#{item.deviceModel,jdbcType=VARCHAR},
					#{item.secretLevel,jdbcType=VARCHAR},
					#{item.positionId,jdbcType=VARCHAR},
					#{item.manufacturer,jdbcType=VARCHAR},
					#{item.isMetering,jdbcType=VARCHAR},
					#{item.meterMode,jdbcType=VARCHAR},
					#{item.meterFinishDate,jdbcType=DATE},
					#{item.meterCycle,jdbcType=DECIMAL},
					#{item.lastMeteringDate,jdbcType=DATE},
					#{item.meterPerson,jdbcType=VARCHAR},
					#{item.meterPlanPerson,jdbcType=VARCHAR},
					#{item.meterTakeawayPerson,jdbcType=VARCHAR},
					#{item.meterConclusion,jdbcType=VARCHAR},
					#{item.isDeriveOft,jdbcType=VARCHAR},
					#{item.expressNumber,jdbcType=VARCHAR},
					#{item.deliveryDate,jdbcType=DATE},
					#{item.attribute01,jdbcType=VARCHAR},
					#{item.attribute02,jdbcType=VARCHAR},
					#{item.attribute03,jdbcType=VARCHAR},
					#{item.attribute04,jdbcType=VARCHAR},
					#{item.attribute05,jdbcType=VARCHAR},
					#{item.attribute06,jdbcType=VARCHAR},
					#{item.attribute07,jdbcType=VARCHAR},
					#{item.attribute08,jdbcType=VARCHAR},
					#{item.attribute09,jdbcType=VARCHAR},
					#{item.attribute10,jdbcType=VARCHAR},
					#{item.attribute11,jdbcType=DECIMAL},
					#{item.attribute12,jdbcType=DECIMAL},
					#{item.attribute13,jdbcType=DECIMAL},
					#{item.attribute14,jdbcType=DECIMAL},
					#{item.attribute15,jdbcType=DECIMAL},
					#{item.attribute16,jdbcType=DECIMAL},
					#{item.attribute17,jdbcType=DATE},
					#{item.attribute18,jdbcType=DATE},
					#{item.attribute19,jdbcType=DATE},
					#{item.attribute20,jdbcType=DATE},
					#{item.procedureFileId,jdbcType=VARCHAR},
					#{item.meteringOrigin,jdbcType=VARCHAR},
					#{item.isDeliveryAllowed,jdbcType=VARCHAR},
					#{item.formCheckConclude,jdbcType=VARCHAR},
					#{item.managerConclude,jdbcType=VARCHAR}
		from dual 
	</foreach>
</insert>
<!-- 更新对象 ASSETS_DEVICE_METERING -->
<update id="updateAssetsDeviceMeteringSensitive" parameterType="avicit.assets.device.assetsdevicemetering.dto.AssetsDeviceMeteringDTO">
	update assets_device_metering 
	<set>
			<if test="id != null">
				id                             =#{id,jdbcType=VARCHAR},
			</if>
			<if test="createdBy != null">
				created_by                     =#{createdBy,jdbcType=VARCHAR},
			</if>
			<if test="creationDate != null">
				creation_date                  =#{creationDate},
			</if>
			<if test="lastUpdatedBy != null">
				last_updated_by                =#{lastUpdatedBy,jdbcType=VARCHAR},
			</if>
			<if test="lastUpdateDate != null">
				last_update_date               =#{lastUpdateDate},
			</if>
			<if test="lastUpdateIp != null">
				last_update_ip                 =#{lastUpdateIp,jdbcType=VARCHAR},
			</if>
			<if test="version != null">
				version                        =version+1,
			</if>
			<if test="procId != null">
				proc_id                   		=#{procId,jdbcType=VARCHAR},
			</if>
			<if test="applicantId != null">
				applicant_id                   =#{applicantId,jdbcType=VARCHAR},
			</if>
			<if test="applicantDepart != null">
				applicant_depart               =#{applicantDepart,jdbcType=VARCHAR},
			</if>
			<if test="ownerId != null">
				owner_id                       =#{ownerId,jdbcType=VARCHAR},
			</if>
			<if test="ownerDept != null">
				owner_dept                     =#{ownerDept,jdbcType=VARCHAR},
			</if>
			<if test="senddevicePid != null">
				senddevice_pid                 =#{senddevicePid,jdbcType=VARCHAR},
			</if>
			<if test="senddeviceDept != null">
				senddevice_dept                =#{senddeviceDept,jdbcType=VARCHAR},
			</if>
			<if test="takedevicePid != null">
				takedevice_pid                 =#{takedevicePid,jdbcType=VARCHAR},
			</if>
			<if test="takedeviceDept != null">
				takedevice_dept                =#{takedeviceDept,jdbcType=VARCHAR},
			</if>
			<if test="deliveryPid != null">
				delivery_pid                   =#{deliveryPid,jdbcType=VARCHAR},
			</if>
			<if test="deliveryDept != null">
				delivery_dept                  =#{deliveryDept,jdbcType=VARCHAR},
			</if>
			<if test="formState != null">
				form_state                     =#{formState,jdbcType=VARCHAR},
			</if>
			<if test="unifiedId != null">
				unified_id                     =#{unifiedId,jdbcType=VARCHAR},
			</if>
			<if test="deviceName != null">
				device_name                    =#{deviceName,jdbcType=VARCHAR},
			</if>
			<if test="deviceCategory != null">
				device_category                =#{deviceCategory,jdbcType=VARCHAR},
			</if>
			<if test="deviceSpec != null">
				device_spec                    =#{deviceSpec,jdbcType=VARCHAR},
			</if>
			<if test="deviceModel != null">
				device_model                   =#{deviceModel,jdbcType=VARCHAR},
			</if>
			<if test="secretLevel != null">
				secret_level                   =#{secretLevel,jdbcType=VARCHAR},
			</if>
			<if test="positionId != null">
				position_id                    =#{positionId,jdbcType=VARCHAR},
			</if>
			<if test="manufacturer != null">
				manufacturer                   =#{manufacturer,jdbcType=VARCHAR},
			</if>
			<if test="isMetering != null">
				is_metering                    =#{isMetering,jdbcType=VARCHAR},
			</if>
			<if test="meterMode != null">
				meter_mode                     =#{meterMode,jdbcType=VARCHAR},
			</if>
			<if test="meterFinishDate != null">
				meter_finish_date              =#{meterFinishDate,jdbcType=DATE},
			</if>
			<if test="meterCycle != null">
				meter_cycle                    =#{meterCycle,jdbcType=DECIMAL},
			</if>
			<if test="lastMeteringDate != null">
				last_metering_date             =#{lastMeteringDate,jdbcType=DATE},
			</if>
			<if test="meterPerson != null">
				meter_person                   =#{meterPerson,jdbcType=VARCHAR},
			</if>
			<if test="meterPlanPerson != null">
				meter_plan_person              =#{meterPlanPerson,jdbcType=VARCHAR},
			</if>
			<if test="meterTakeawayPerson != null">
				meter_takeaway_person          =#{meterTakeawayPerson,jdbcType=VARCHAR},
			</if>
			<if test="meterConclusion != null">
				meter_conclusion               =#{meterConclusion,jdbcType=VARCHAR},
			</if>
			<if test="isDeriveOft != null">
				is_derive_oft                  =#{isDeriveOft,jdbcType=VARCHAR},
			</if>
			<if test="expressNumber != null">
				express_number                 =#{expressNumber,jdbcType=VARCHAR},
			</if>
			<if test="deliveryDate != null">
				delivery_date                  =#{deliveryDate,jdbcType=DATE},
			</if>
			<if test="attribute01 != null">
				attribute_01                   =#{attribute01,jdbcType=VARCHAR},
			</if>
			<if test="attribute02 != null">
				attribute_02                   =#{attribute02,jdbcType=VARCHAR},
			</if>
			<if test="attribute03 != null">
				attribute_03                   =#{attribute03,jdbcType=VARCHAR},
			</if>
			<if test="attribute04 != null">
				attribute_04                   =#{attribute04,jdbcType=VARCHAR},
			</if>
			<if test="attribute05 != null">
				attribute_05                   =#{attribute05,jdbcType=VARCHAR},
			</if>
			<if test="attribute06 != null">
				attribute_06                   =#{attribute06,jdbcType=VARCHAR},
			</if>
			<if test="attribute07 != null">
				attribute_07                   =#{attribute07,jdbcType=VARCHAR},
			</if>
			<if test="attribute08 != null">
				attribute_08                   =#{attribute08,jdbcType=VARCHAR},
			</if>
			<if test="attribute09 != null">
				attribute_09                   =#{attribute09,jdbcType=VARCHAR},
			</if>
			<if test="attribute10 != null">
				attribute_10                   =#{attribute10,jdbcType=VARCHAR},
			</if>
			<if test="attribute11 != null">
				attribute_11                   =#{attribute11,jdbcType=DECIMAL},
			</if>
			<if test="attribute12 != null">
				attribute_12                   =#{attribute12,jdbcType=DECIMAL},
			</if>
			<if test="attribute13 != null">
				attribute_13                   =#{attribute13,jdbcType=DECIMAL},
			</if>
			<if test="attribute14 != null">
				attribute_14                   =#{attribute14,jdbcType=DECIMAL},
			</if>
			<if test="attribute15 != null">
				attribute_15                   =#{attribute15,jdbcType=DECIMAL},
			</if>
			<if test="attribute16 != null">
				attribute_16                   =#{attribute16,jdbcType=DECIMAL},
			</if>
			<if test="attribute17 != null">
				attribute_17                   =#{attribute17,jdbcType=DATE},
			</if>
			<if test="attribute18 != null">
				attribute_18                   =#{attribute18,jdbcType=DATE},
			</if>
			<if test="attribute19 != null">
				attribute_19                   =#{attribute19,jdbcType=DATE},
			</if>
			<if test="attribute20 != null">
				attribute_20                   =#{attribute20,jdbcType=DATE},
			</if>
			<if test="procedureFileId != null">
				procedure_file_id              =#{procedureFileId,jdbcType=VARCHAR},
			</if>
			<if test="meteringOrigin != null">
				metering_origin                =#{meteringOrigin,jdbcType=VARCHAR},
			</if>
			<if test="isDeliveryAllowed != null">
				is_delivery_allowed            =#{isDeliveryAllowed,jdbcType=VARCHAR},
			</if>
			<if test="formCheckConclude != null">
				form_check_conclude            =#{formCheckConclude,jdbcType=VARCHAR},
			</if>
			<if test="managerConclude != null">
				manager_conclude               =#{managerConclude,jdbcType=VARCHAR},
			</if>
	</set>
		where id = #{id} and version =#{version}
</update>
<!-- 更新对象 ASSETS_DEVICE_METERING -->
<update id="updateAssetsDeviceMeteringAll" parameterType="avicit.assets.device.assetsdevicemetering.dto.AssetsDeviceMeteringDTO">
	update assets_device_metering 
		set
			id                             =#{id,jdbcType=VARCHAR},
			created_by                     =#{createdBy,jdbcType=VARCHAR},
			creation_date                  =#{creationDate},
			last_updated_by                =#{lastUpdatedBy,jdbcType=VARCHAR},
			last_update_date               =#{lastUpdateDate},
			last_update_ip                 =#{lastUpdateIp,jdbcType=VARCHAR},
			version                        =version+1,
			proc_id						   =#{procId,jdbcType=VARCHAR},
			applicant_id                   =#{applicantId,jdbcType=VARCHAR},
			applicant_depart               =#{applicantDepart,jdbcType=VARCHAR},
			owner_id                       =#{ownerId,jdbcType=VARCHAR},
			owner_dept                     =#{ownerDept,jdbcType=VARCHAR},
			senddevice_pid                 =#{senddevicePid,jdbcType=VARCHAR},
			senddevice_dept                =#{senddeviceDept,jdbcType=VARCHAR},
			takedevice_pid                 =#{takedevicePid,jdbcType=VARCHAR},
			takedevice_dept                =#{takedeviceDept,jdbcType=VARCHAR},
			delivery_pid                   =#{deliveryPid,jdbcType=VARCHAR},
			delivery_dept                  =#{deliveryDept,jdbcType=VARCHAR},
			form_state                     =#{formState,jdbcType=VARCHAR},
			unified_id                     =#{unifiedId,jdbcType=VARCHAR},
			device_name                    =#{deviceName,jdbcType=VARCHAR},
			device_category                =#{deviceCategory,jdbcType=VARCHAR},
			device_spec                    =#{deviceSpec,jdbcType=VARCHAR},
			device_model                   =#{deviceModel,jdbcType=VARCHAR},
			secret_level                   =#{secretLevel,jdbcType=VARCHAR},
			position_id                    =#{positionId,jdbcType=VARCHAR},
			manufacturer                   =#{manufacturer,jdbcType=VARCHAR},
			is_metering                    =#{isMetering,jdbcType=VARCHAR},
			meter_mode                     =#{meterMode,jdbcType=VARCHAR},
			meter_finish_date              =#{meterFinishDate,jdbcType=DATE},
			meter_cycle                    =#{meterCycle,jdbcType=DECIMAL},
			last_metering_date             =#{lastMeteringDate,jdbcType=DATE},
			meter_person                   =#{meterPerson,jdbcType=VARCHAR},
			meter_plan_person              =#{meterPlanPerson,jdbcType=VARCHAR},
			meter_takeaway_person          =#{meterTakeawayPerson,jdbcType=VARCHAR},
			meter_conclusion               =#{meterConclusion,jdbcType=VARCHAR},
			is_derive_oft                  =#{isDeriveOft,jdbcType=VARCHAR},
			express_number                 =#{expressNumber,jdbcType=VARCHAR},
			delivery_date                  =#{deliveryDate,jdbcType=DATE},
			attribute_01                   =#{attribute01,jdbcType=VARCHAR},
			attribute_02                   =#{attribute02,jdbcType=VARCHAR},
			attribute_03                   =#{attribute03,jdbcType=VARCHAR},
			attribute_04                   =#{attribute04,jdbcType=VARCHAR},
			attribute_05                   =#{attribute05,jdbcType=VARCHAR},
			attribute_06                   =#{attribute06,jdbcType=VARCHAR},
			attribute_07                   =#{attribute07,jdbcType=VARCHAR},
			attribute_08                   =#{attribute08,jdbcType=VARCHAR},
			attribute_09                   =#{attribute09,jdbcType=VARCHAR},
			attribute_10                   =#{attribute10,jdbcType=VARCHAR},
			attribute_11                   =#{attribute11,jdbcType=DECIMAL},
			attribute_12                   =#{attribute12,jdbcType=DECIMAL},
			attribute_13                   =#{attribute13,jdbcType=DECIMAL},
			attribute_14                   =#{attribute14,jdbcType=DECIMAL},
			attribute_15                   =#{attribute15,jdbcType=DECIMAL},
			attribute_16                   =#{attribute16,jdbcType=DECIMAL},
			attribute_17                   =#{attribute17,jdbcType=DATE},
			attribute_18                   =#{attribute18,jdbcType=DATE},
			attribute_19                   =#{attribute19,jdbcType=DATE},
			attribute_20                   =#{attribute20,jdbcType=DATE},
			procedure_file_id              =#{procedureFileId,jdbcType=VARCHAR},
			metering_origin                =#{meteringOrigin,jdbcType=VARCHAR},
			is_delivery_allowed            =#{isDeliveryAllowed,jdbcType=VARCHAR},
			form_check_conclude            =#{formCheckConclude,jdbcType=VARCHAR},
			manager_conclude               =#{managerConclude,jdbcType=VARCHAR}
	where id = #{id} and version =#{version}
</update>
<!-- 批量更新对象   ASSETS_DEVICE_METERING -->
<update id="updateAssetsDeviceMeteringList" parameterType="java.util.List">
	<foreach collection="dtoList" item="item" index="index" open="begin" separator="" close="end;">
	update assets_device_metering 
		set
			id                             =#{item.id,jdbcType=VARCHAR},
			created_by                     =#{item.createdBy,jdbcType=VARCHAR},
			creation_date                  =#{item.creationDate},
			last_updated_by                =#{item.lastUpdatedBy,jdbcType=VARCHAR},
			last_update_date               =#{item.lastUpdateDate},
			last_update_ip                 =#{item.lastUpdateIp,jdbcType=VARCHAR},
			version                        =version+1,
			proc_id						   =#{procId,jdbcType=VARCHAR},
			applicant_id                   =#{item.applicantId,jdbcType=VARCHAR},
			applicant_depart               =#{item.applicantDepart,jdbcType=VARCHAR},
			owner_id                       =#{item.ownerId,jdbcType=VARCHAR},
			owner_dept                     =#{item.ownerDept,jdbcType=VARCHAR},
			senddevice_pid                 =#{item.senddevicePid,jdbcType=VARCHAR},
			senddevice_dept                =#{item.senddeviceDept,jdbcType=VARCHAR},
			takedevice_pid                 =#{item.takedevicePid,jdbcType=VARCHAR},
			takedevice_dept                =#{item.takedeviceDept,jdbcType=VARCHAR},
			delivery_pid                   =#{item.deliveryPid,jdbcType=VARCHAR},
			delivery_dept                  =#{item.deliveryDept,jdbcType=VARCHAR},
			form_state                     =#{item.formState,jdbcType=VARCHAR},
			unified_id                     =#{item.unifiedId,jdbcType=VARCHAR},
			device_name                    =#{item.deviceName,jdbcType=VARCHAR},
			device_category                =#{item.deviceCategory,jdbcType=VARCHAR},
			device_spec                    =#{item.deviceSpec,jdbcType=VARCHAR},
			device_model                   =#{item.deviceModel,jdbcType=VARCHAR},
			secret_level                   =#{item.secretLevel,jdbcType=VARCHAR},
			position_id                    =#{item.positionId,jdbcType=VARCHAR},
			manufacturer                   =#{item.manufacturer,jdbcType=VARCHAR},
			is_metering                    =#{item.isMetering,jdbcType=VARCHAR},
			meter_mode                     =#{item.meterMode,jdbcType=VARCHAR},
			meter_finish_date              =#{item.meterFinishDate,jdbcType=DATE},
			meter_cycle                    =#{item.meterCycle,jdbcType=DECIMAL},
			last_metering_date             =#{item.lastMeteringDate,jdbcType=DATE},
			meter_person                   =#{item.meterPerson,jdbcType=VARCHAR},
			meter_plan_person              =#{item.meterPlanPerson,jdbcType=VARCHAR},
			meter_takeaway_person          =#{item.meterTakeawayPerson,jdbcType=VARCHAR},
			meter_conclusion               =#{item.meterConclusion,jdbcType=VARCHAR},
			is_derive_oft                  =#{item.isDeriveOft,jdbcType=VARCHAR},
			express_number                 =#{item.expressNumber,jdbcType=VARCHAR},
			delivery_date                  =#{item.deliveryDate,jdbcType=DATE},
			attribute_01                   =#{item.attribute01,jdbcType=VARCHAR},
			attribute_02                   =#{item.attribute02,jdbcType=VARCHAR},
			attribute_03                   =#{item.attribute03,jdbcType=VARCHAR},
			attribute_04                   =#{item.attribute04,jdbcType=VARCHAR},
			attribute_05                   =#{item.attribute05,jdbcType=VARCHAR},
			attribute_06                   =#{item.attribute06,jdbcType=VARCHAR},
			attribute_07                   =#{item.attribute07,jdbcType=VARCHAR},
			attribute_08                   =#{item.attribute08,jdbcType=VARCHAR},
			attribute_09                   =#{item.attribute09,jdbcType=VARCHAR},
			attribute_10                   =#{item.attribute10,jdbcType=VARCHAR},
			attribute_11                   =#{item.attribute11,jdbcType=DECIMAL},
			attribute_12                   =#{item.attribute12,jdbcType=DECIMAL},
			attribute_13                   =#{item.attribute13,jdbcType=DECIMAL},
			attribute_14                   =#{item.attribute14,jdbcType=DECIMAL},
			attribute_15                   =#{item.attribute15,jdbcType=DECIMAL},
			attribute_16                   =#{item.attribute16,jdbcType=DECIMAL},
			attribute_17                   =#{item.attribute17,jdbcType=DATE},
			attribute_18                   =#{item.attribute18,jdbcType=DATE},
			attribute_19                   =#{item.attribute19,jdbcType=DATE},
			attribute_20                   =#{item.attribute20,jdbcType=DATE},
			procedure_file_id              =#{item.procedureFileId,jdbcType=VARCHAR},
			metering_origin                =#{item.meteringOrigin,jdbcType=VARCHAR},
			is_delivery_allowed            =#{item.isDeliveryAllowed,jdbcType=VARCHAR},
			form_check_conclude            =#{item.formCheckConclude,jdbcType=VARCHAR},
			manager_conclude               =#{item.managerConclude,jdbcType=VARCHAR}
		where id = #{item.id} and version =#{item.version};
	</foreach>
</update>
<!-- 主键删除 ASSETS_DEVICE_METERING -->
<delete id="deleteAssetsDeviceMeteringById" parameterType="java.lang.String">
		delete from assets_device_metering  where  id = #{id}
</delete>
<!-- 外键批量删除 ASSETS_DEVICE_METERING -->
<delete id="deleteAssetsDeviceMeteringByPid" parameterType="java.lang.String">
		delete from assets_device_metering  where  FK_SUB_COL_ID = #{fkSubColId}
</delete>
<!-- 批量主键删除 ASSETS_DEVICE_METERING -->
<delete id="deleteAssetsDeviceMeteringList" parameterType="java.util.List">
		delete from assets_device_metering  t1
		<where>
			<foreach item="idItem" collection="list" open="(" separator="or" close=")">
				t1.id = #{idItem}
			</foreach>
		</where>
</delete>
</mapper>